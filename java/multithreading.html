<!DOCTYPE html>
<html lang="en">
<meta http-equiv="content-type" content="text/html;charset=UTF-8" />

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="author" content="RaviKalyan">
	<title>Multithreading</title>
	<link rel="shortcut icon" type="image/x-icon" href="../scripts/images/tab_logo.png" />
	<link rel="stylesheet" href="../scripts/css/site.css">
	<link rel='stylesheet' id='blogus-google-fonts-css'
		href='//fonts.googleapis.com/css?family=ABeeZee%7CAbel%7CAbril+Fatface%7CAclonica%7CAcme%7CActor%7CAdamina%7CAdvent+Pro%7CAguafina+Script%7CAkronim%7CAladin%7CAldrich%7CAlef%7CAlegreya%7CAlegreya+SC%7CAlegreya+Sans%7CAlegreya+Sans+SC%7CAlex+Brush%7CAlfa+Slab+One%7CAlice%7CAlike%7CAlike+Angular%7CAllan%7CAllerta%7CAllerta+Stencil%7CAllura%7CAlmendra%7CAlmendra+Display%7CAlmendra+SC%7CAmarante%7CAmaranth%7CAmatic+SC%7CAmatica+SC%7CAmethysta%7CAmiko%7CAmiri%7CAmita%7CAnaheim%7CAndada%7CAndika%7CAngkor%7CAnnie+Use+Your+Telescope%7CAnonymous+Pro%7CAntic%7CAntic+Didone%7CAntic+Slab%7CAnton%7CArapey%7CArbutus%7CArbutus+Slab%7CArchitects+Daughter%7CArchivo+Black%7CArchivo+Narrow%7CAref+Ruqaa%7CArima+Madurai%7CArimo%7CArizonia%7CArmata%7CArtifika%7CArvo%7CArya%7CAsap%7CAsar%7CAsset%7CAssistant%7CAstloch%7CAsul%7CAthiti%7CAtma%7CAtomic+Age%7CAubrey%7CAudiowide%7CAutour+One%7CAverage%7CAverage+Sans%7CAveria+Gruesa+Libre%7CAveria+Libre%7CAveria+Sans+Libre%7CAveria+Serif+Libre%7CBad+Script%7CBaloo%7CBaloo+Bhai%7CBaloo+Da%7CBaloo+Thambi%7CBalthazar%7CBangers%7CBasic%7CBattambang%7CBaumans%7CBayon%7CBelgrano%7CBelleza%7CBenchNine%7CBentham%7CBerkshire+Swash%7CBevan%7CBigelow+Rules%7CBigshot+One%7CBilbo%7CBilbo+Swash+Caps%7CBioRhyme%7CBioRhyme+Expanded%7CBiryani%7CBitter%7CBlack+Ops+One%7CBokor%7CBonbon%7CBoogaloo%7CBowlby+One%7CBowlby+One+SC%7CBrawler%7CBree+Serif%7CBubblegum+Sans%7CBubbler+One%7CBuda%7CBuenard%7CBungee%7CBungee+Hairline%7CBungee+Inline%7CBungee+Outline%7CBungee+Shade%7CButcherman%7CButterfly+Kids%7CCabin%7CCabin+Condensed%7CCabin+Sketch%7CCaesar+Dressing%7CCagliostro%7CCairo%7CCalligraffitti%7CCambay%7CCambo%7CCandal%7CCantarell%7CCantata+One%7CCantora+One%7CCapriola%7CCardo%7CCarme%7CCarrois+Gothic%7CCarrois+Gothic+SC%7CCarter+One%7CCatamaran%7CCaudex%7CCaveat%7CCaveat+Brush%7CCedarville+Cursive%7CCeviche+One%7CChanga%7CChanga+One%7CChango%7CChathura%7CChau+Philomene+One%7CChela+One%7CChelsea+Market%7CChenla%7CCherry+Cream+Soda%7CCherry+Swash%7CChewy%7CChicle%7CChivo%7CChonburi%7CCinzel%7CCinzel+Decorative%7CClicker+Script%7CCoda%7CCoda+Caption%7CCodystar%7CCoiny%7CCombo%7CComfortaa%7CComing+Soon%7CConcert+One%7CCondiment%7CContent%7CContrail+One%7CConvergence%7CCookie%7CCopse%7CCorben%7CCormorant%7CCormorant+Garamond%7CCormorant+Infant%7CCormorant+SC%7CCormorant+Unicase%7CCormorant+Upright%7CCourgette%7CCousine%7CCoustard%7CCovered+By+Your+Grace%7CCrafty+Girls%7CCreepster%7CCrete+Round%7CCrimson+Text%7CCroissant+One%7CCrushed%7CCuprum%7CCutive%7CCutive+Mono%7CDamion%7CDancing+Script%7CDangrek%7CDavid+Libre%7CDawning+of+a+New+Day%7CDays+One%7CDekko%7CDelius%7CDelius+Swash+Caps%7CDelius+Unicase%7CDella+Respira%7CDenk+One%7CDevonshire%7CDhurjati%7CDidact+Gothic%7CDiplomata%7CDiplomata+SC%7CDomine%7CDonegal+One%7CDoppio+One%7CDorsa%7CDosis%7CDr+Sugiyama%7CDroid+Sans%7CDroid+Sans+Mono%7CDroid+Serif%7CDuru+Sans%7CDynalight%7CEB+Garamond%7CEagle+Lake%7CEater%7CEconomica%7CEczar%7CEk+Mukta%7CEl+Messiri%7CElectrolize%7CElsie%7CElsie+Swash+Caps%7CEmblema+One%7CEmilys+Candy%7CEngagement%7CEnglebert%7CEnriqueta%7CErica+One%7CEsteban%7CEuphoria+Script%7CEwert%7CExo%7CExo+2%7CExpletus+Sans%7CFanwood+Text%7CFarsan%7CFascinate%7CFascinate+Inline%7CFaster+One%7CFasthand%7CFauna+One%7CFederant%7CFedero%7CFelipa%7CFenix%7CFinger+Paint%7CFira+Mono%7CFira+Sans%7CFjalla+One%7CFjord+One%7CFlamenco%7CFlavors%7CFondamento%7CFontdiner+Swanky%7CForum%7CFrancois+One%7CFrank+Ruhl+Libre%7CFreckle+Face%7CFredericka+the+Great%7CFredoka+One%7CFreehand%7CFresca%7CFrijole%7CFruktur%7CFugaz+One%7CGFS+Didot%7CGFS+Neohellenic%7CGabriela%7CGafata%7CGalada%7CGaldeano%7CGalindo%7CGentium+Basic%7CGentium+Book+Basic%7CGeo%7CGeostar%7CGeostar+Fill%7CGermania+One%7CGidugu%7CGilda+Display%7CGive+You+Glory%7CGlass+Antiqua%7CGlegoo%7CGloria+Hallelujah%7CGoblin+One%7CGochi+Hand%7CGorditas%7CGoudy+Bookletter+1911%7CGraduate%7CGrand+Hotel%7CGravitas+One%7CGreat+Vibes%7CGriffy%7CGruppo%7CGudea%7CGurajada%7CHabibi%7CHalant%7CHammersmith+One%7CHanalei%7CHanalei+Fill%7CHandlee%7CHanuman%7CHappy+Monkey%7CHarmattan%7CHeadland+One%7CHeebo%7CHenny+Penny%7CHerr+Von+Muellerhoff%7CHind%7CHind+Guntur%7CHind+Madurai%7CHind+Siliguri%7CHind+Vadodara%7CHoltwood+One+SC%7CHomemade+Apple%7CHomenaje%7CIM+Fell+DW+Pica%7CIM+Fell+DW+Pica+SC%7CIM+Fell+Double+Pica%7CIM+Fell+Double+Pica+SC%7CIM+Fell+English%7CIM+Fell+English+SC%7CIM+Fell+French+Canon%7CIM+Fell+French+Canon+SC%7CIM+Fell+Great+Primer%7CIM+Fell+Great+Primer+SC%7CIceberg%7CIceland%7CImprima%7CInconsolata%7CInder%7CIndie+Flower%7CInika%7CInknut+Antiqua%7CIrish+Grover%7CIstok+Web%7CItaliana%7CItalianno%7CItim%7CJacques+Francois%7CJacques+Francois+Shadow%7CJaldi%7CJim+Nightshade%7CJockey+One%7CJolly+Lodger%7CJomhuria%7CJosefin+Sans%7CJosefin+Slab%7CJoti+One%7CJudson%7CJulee%7CJulius+Sans+One%7CJunge%7CJura%7CJust+Another+Hand%7CJust+Me+Again+Down+Here%7CKadwa%7CKalam%7CKameron%7CKanit%7CKantumruy%7CKarla%7CKarma%7CKatibeh%7CKaushan+Script%7CKavivanar%7CKavoon%7CKdam+Thmor%7CKeania+One%7CKelly+Slab%7CKenia%7CKhand%7CKhmer%7CKhula%7CKite+One%7CKnewave%7CKotta+One%7CKoulen%7CKranky%7CKreon%7CKristi%7CKrona+One%7CKumar+One%7CKumar+One+Outline%7CKurale%7CLa+Belle+Aurore%7CLaila%7CLakki+Reddy%7CLalezar%7CLancelot%7CLateef%7CLato%7CLeague+Script%7CLeckerli+One%7CLedger%7CLekton%7CLemon%7CLemonada%7CLibre+Baskerville%7CLibre+Franklin%7CLife+Savers%7CLilita+One%7CLily+Script+One%7CLimelight%7CLinden+Hill%7CLobster%7CLobster+Two%7CLondrina+Outline%7CLondrina+Shadow%7CLondrina+Sketch%7CLondrina+Solid%7CLora%7CLove+Ya+Like+A+Sister%7CLoved+by+the+King%7CLovers+Quarrel%7CLuckiest+Guy%7CLusitana%7CLustria%7CMacondo%7CMacondo+Swash+Caps%7CMada%7CMagra%7CMaiden+Orange%7CMaitree%7CMako%7CMallanna%7CMandali%7CMarcellus%7CMarcellus+SC%7CMarck+Script%7CMargarine%7CMarko+One%7CMarmelad%7CMartel%7CMartel+Sans%7CMarvel%7CMate%7CMate+SC%7CMaven+Pro%7CMcLaren%7CMeddon%7CMedievalSharp%7CMedula+One%7CMeera+Inimai%7CMegrim%7CMeie+Script%7CMerienda%7CMerienda+One%7CMerriweather%7CMerriweather+Sans%7CMetal%7CMetal+Mania%7CMetamorphous%7CMetrophobic%7CMichroma%7CMilonga%7CMiltonian%7CMiltonian+Tattoo%7CMiniver%7CMiriam+Libre%7CMirza%7CMiss+Fajardose%7CMitr%7CModak%7CModern+Antiqua%7CMogra%7CMolengo%7CMolle%7CMonda%7CMonofett%7CMonoton%7CMonsieur+La+Doulaise%7CMontaga%7CMontez%7CMontserrat%7CMontserrat+Alternates%7CMontserrat+Subrayada%7CMoul%7CMoulpali%7CMountains+of+Christmas%7CMouse+Memoirs%7CMr+Bedfort%7CMr+Dafoe%7CMr+De+Haviland%7CMrs+Saint+Delafield%7CMrs+Sheppards%7CMukta+Vaani%7CMuli%7CMystery+Quest%7CNTR%7CNeucha%7CNeuton%7CNew+Rocker%7CNews+Cycle%7CNiconne%7CNixie+One%7CNobile%7CNokora%7CNorican%7CNosifer%7CNothing+You+Could+Do%7CNoticia+Text%7CNoto+Sans%7CNoto+Serif%7CNova+Cut%7CNova+Flat%7CNova+Mono%7CNova+Oval%7CNova+Round%7CNova+Script%7CNova+Slim%7CNova+Square%7CNumans%7CNunito%7COdor+Mean+Chey%7COffside%7COld+Standard+TT%7COldenburg%7COleo+Script%7COleo+Script+Swash+Caps%7COpen+Sans%7COpen+Sans+Condensed%7COranienbaum%7COrbitron%7COregano%7COrienta%7COriginal+Surfer%7COswald%7COver+the+Rainbow%7COverlock%7COverlock+SC%7COvo%7COxygen%7COxygen+Mono%7CPT+Mono%7CPT+Sans%7CPT+Sans+Caption%7CPT+Sans+Narrow%7CPT+Serif%7CPT+Serif+Caption%7CPacifico%7CPalanquin%7CPalanquin+Dark%7CPaprika%7CParisienne%7CPassero+One%7CPassion+One%7CPathway+Gothic+One%7CPatrick+Hand%7CPatrick+Hand+SC%7CPattaya%7CPatua+One%7CPavanam%7CPaytone+One%7CPeddana%7CPeralta%7CPermanent+Marker%7CPetit+Formal+Script%7CPetrona%7CPhilosopher%7CPiedra%7CPinyon+Script%7CPirata+One%7CPlaster%7CPlay%7CPlayball%7CPlayfair+Display%7CPlayfair+Display+SC%7CPodkova%7CPoiret+One%7CPoller+One%7CPoly%7CPompiere%7CPontano+Sans%7CPoppins%7CPort+Lligat+Sans%7CPort+Lligat+Slab%7CPragati+Narrow%7CPrata%7CPreahvihear%7CPress+Start+2P%7CPridi%7CPrincess+Sofia%7CProciono%7CPrompt%7CProsto+One%7CProza+Libre%7CPuritan%7CPurple+Purse%7CQuando%7CQuantico%7CQuattrocento%7CQuattrocento+Sans%7CQuestrial%7CQuicksand%7CQuintessential%7CQwigley%7CRacing+Sans+One%7CRadley%7CRajdhani%7CRakkas%7CRaleway%7CRaleway+Dots%7CRamabhadra%7CRamaraja%7CRambla%7CRammetto+One%7CRanchers%7CRancho%7CRanga%7CRasa%7CRationale%7CRavi+Prakash%7CRedressed%7CReem+Kufi%7CReenie+Beanie%7CRevalia%7CRhodium+Libre%7CRibeye%7CRibeye+Marrow%7CRighteous%7CRisque%7CRoboto%7CRoboto+Condensed%7CRoboto+Mono%7CRoboto+Slab%7CRochester%7CRock+Salt%7CRokkitt%7CRomanesco%7CRopa+Sans%7CRosario%7CRosarivo%7CRouge+Script%7CRozha+One%7CRubik%7CRubik+Mono+One%7CRubik+One%7CRuda%7CRufina%7CRuge+Boogie%7CRuluko%7CRum+Raisin%7CRuslan+Display%7CRusso+One%7CRuthie%7CRye%7CSacramento%7CSahitya%7CSail%7CSalsa%7CSanchez%7CSancreek%7CSansita+One%7CSarala%7CSarina%7CSarpanch%7CSatisfy%7CScada%7CScheherazade%7CSchoolbell%7CScope+One%7CSeaweed+Script%7CSecular+One%7CSevillana%7CSeymour+One%7CShadows+Into+Light%7CShadows+Into+Light+Two%7CShanti%7CShare%7CShare+Tech%7CShare+Tech+Mono%7CShojumaru%7CShort+Stack%7CShrikhand%7CSiemreap%7CSigmar+One%7CSignika%7CSignika+Negative%7CSimonetta%7CSintony%7CSirin+Stencil%7CSix+Caps%7CSkranji%7CSlabo+13px%7CSlabo+27px%7CSlackey%7CSmokum%7CSmythe%7CSniglet%7CSnippet%7CSnowburst+One%7CSofadi+One%7CSofia%7CSonsie+One%7CSorts+Mill+Goudy%7CSource+Code+Pro%7CSource+Sans+Pro%7CSource+Serif+Pro%7CSpace+Mono%7CSpecial+Elite%7CSpicy+Rice%7CSpinnaker%7CSpirax%7CSquada+One%7CSree+Krushnadevaraya%7CSriracha%7CStalemate%7CStalinist+One%7CStardos+Stencil%7CStint+Ultra+Condensed%7CStint+Ultra+Expanded%7CStoke%7CStrait%7CSue+Ellen+Francisco%7CSuez+One%7CSumana%7CSunshiney%7CSupermercado+One%7CSura%7CSuranna%7CSuravaram%7CSuwannaphum%7CSwanky+and+Moo+Moo%7CSyncopate%7CTangerine%7CTaprom%7CTauri%7CTaviraj%7CTeko%7CTelex%7CTenali+Ramakrishna%7CTenor+Sans%7CText+Me+One%7CThe+Girl+Next+Door%7CTienne%7CTillana%7CTimmana%7CTinos%7CTitan+One%7CTitillium+Web%7CTrade+Winds%7CTrirong%7CTrocchi%7CTrochut%7CTrykker%7CTulpen+One%7CUbuntu%7CUbuntu+Condensed%7CUbuntu+Mono%7CUltra%7CUncial+Antiqua%7CUnderdog%7CUnica+One%7CUnifrakturCook%7CUnifrakturMaguntia%7CUnkempt%7CUnlock%7CUnna%7CVT323%7CVampiro+One%7CVarela%7CVarela+Round%7CVast+Shadow%7CVesper+Libre%7CVibur%7CVidaloka%7CViga%7CVoces%7CVolkhov%7CVollkorn%7CVoltaire%7CWaiting+for+the+Sunrise%7CWallpoet%7CWalter+Turncoat%7CWarnes%7CWellfleet%7CWendy+One%7CWire+One%7CWork+Sans%7CYanone+Kaffeesatz%7CYantramanav%7CYatra+One%7CYellowtail%7CYeseva+One%7CYesteryear%7CYrsa%7CZeyada&#038;subset=latin%2Clatin-ext'
		type='text/css' media='all' />
	<link
		href="https://fonts.googleapis.com/css2?family=Berkshire+Swash&family=Elsie+Swash+Caps:wght@400;900&family=Kalam:wght@300;400;700&family=Pacifico&family=Satisfy&display=swap"
		rel="stylesheet" />
	<script>
		!function (theme, navWidth) {
			if (theme === 'dark') document.documentElement.classList.add('dark-theme')
			if (navWidth) document.documentElement.style.setProperty('--nav-width', `${navWidth}px`)
		}(localStorage && localStorage.getItem('theme') || (matchMedia('(prefers-color-scheme: dark)') && 'dark'),
			localStorage && localStorage.getItem('nav-width'))
	</script>
	<style>
		@media screen and (min-width: 1025px) {
			.div-to-desk {
				display: none;
				/* Hide the div on screens smaller than 1025px (mobile) */
			}
		}

		@media screen and (max-width: 1025px) {
			.div-to-hide {
				display: none;
				/* Hide the div on screens smaller than 1025px (mobile) */
			}
		}
	</style>
</head>

<body>
	<nav class="navbar">
		<div class="navbar-brand">
			<a class="navbar-item" href="../home.html"> <img width="40" height="25" src="../scripts/images/nani1.png"
					alt="Home" />
				<h5 href="../home.html" class="div-to-hide berkshire-swash-regular">Ravish</h5>
			</a>
			<h4 class="div-to-desk berkshire-swash-regular" href="../home.html">Ravish</h4>
			<button class="navbar-burger" data-target="topbar-nav">
				<span></span> <span></span> <span></span>
			</button>
		</div>
		<div id="topbar-nav" class="navbar-menu">
			<div class="navbar-end">
				<div class="navbar-item" style="text-align: center;">
					<div class="nav-item is-hoverable" style="top: .2rem;"><a class="nav-link" href="../home.html"><img
							height="25" width="25" src="../scripts/images/home.png"></i></a></div>
					<div class="navbar-item is-hoverable">
						<a class="navbar-link" href="../java/introduction.html">Java</a>
					</div>
					<div class="navbar-item is-hoverable">
						<a class="navbar-link" href="../spring/introduction.html">Spring</a>
					</div>
					<div class="navbar-item is-hoverable">
						<a class="navbar-link" href="../springboot/introduction.html">SpringBoot</a>
					</div>
					<div class="navbar-item is-hoverable">
						<a class="navbar-link" href="../microservices/ms-intro.html">Microservices</a>
					</div>
					<div class="navbar-item is-hoverable">
						<a class="navbar-link" href="../java/java8/introduction.html">Java 8
							Features</a>
					</div>
					<div class="navbar-item is-hoverable">
						<a class="navbar-link" href="../DP/introduction.html">Design
							Patterns</a>
					</div>
					<div class="navbar-item is-hoverable">
						<a class="navbar-link" href="../interview/interview-questions.html">Interview
							Questions</a>
					</div>
					<label class="theme-toggler div-to-hide"> <input type="checkbox" id="switch-theme-checkbox" /> <span
							class="icon"></span>
					</label>
				</div>
			</div>
		</div>
		<label class="theme-toggler div-to-desk" style="top: 22px;">
			<input type="checkbox" id="switch-theme-mobile" />
			<span class="icon"></span>
		</label>
	</nav>

	<div class="body">
		<div class="nav-container">
			<aside class="nav">
				<div class="nav-panel-menu is-active" data-panel="menu">
					<li class="nav-item" data-depth="0">
						<ul class="nav-list">
							<h4>Java Basic</h4>
							<li class="nav-item" data-depth="1"><a class="nav-link"
																   href="../java/introduction.html">Java Introduction</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link" href="../java/history.html">History
								of Java</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link"
																   href="../java/features.html">Features of Java</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link" href="../java/jdk.html">JDK vs JRE
								vs JVM</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link" href="../java/jvm.html">JVM - Java
								Virtual Machine</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link" href="../java/gc.html">Garbage
								Collection</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link"
																   href="../java/variables.html">Variables</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link" href="../java/datatypes.html">Data
								Types</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link"
																   href="../java/operators.html">Operators</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link" href="../java/string.html">Java
								String</a></li>
							<h4>Java Flow Control</h4>
							<li class="nav-item" data-depth="1"><a class="nav-link" href="../java/ifelse.html">Java
								If-else</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link" href="../java/switchcase.html">Java
								Switch-Case</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link" href="../java/forloop.html">Java For
								loop</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link" href="../java/whileloop.html">Java
								while loop</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link" href="../java/dowhile.html">Java
								do-while loop</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link"
																   href="../java/continue.html">Continue statement</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link" href="../java/break.html">break
								statement</a></li>
							<h4>Java Arrays</h4>
							<li class="nav-item" data-depth="1"><a class="nav-link" href="../java/arrays.html">Java
								Arrays</a></li>
							<h4>OOPs Concepts</h4>
							<li class="nav-item" data-depth="1"><a class="nav-link" href="../java/oops.html">OOPs
								Concepts</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link" href="../java/absract.html">Abstraction</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link"
																   href="../java/encapsulation.html">Encapsulation</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link"
																   href="../java/inheritance.html">Inheritance</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link"
																   href="../java/polymorphism.html">Polymorphism</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link"
																   href="../java/aggregation.html">Aggregation</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link"
																   href="../java/association.html">Association</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link"
																   href="../java/composition.html">Composition</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link"
																   href="../java/overloadingvsoverriding.html">Overloading vs
								Overriding</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link"
																   href="../java/abstractvsinterface.html">Abstract class vs
								interface</a></li>
							<h4>Java Exception Handling</h4>
							<li class="nav-item" data-depth="1"><a class="nav-link"
																   href="../java/exception-handling.html">Exception handling</a></li>
							<h4>Java Multithreading</h4>
							<li class="nav-item" data-depth="1"><a class="nav-link"
																   href="../java/multithreading.html">Multithreading</a></li>
							<h4>Java Serialization</h4>
							<li class="nav-item" data-depth="1"><a class="nav-link"
																   href="../java/serialization.html">Serialization</a></li>
							<h4>Java Synchronization</h4>
							<li class="nav-item" data-depth="1"><a class="nav-link"
																   href="../java/synchronization.html">Synchronization</a></li>
							<h4>Java Sorting</h4>
							<li class="nav-item" data-depth="1"><a class="nav-link"
																   href="../java/comparable.html">Comparable interface</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link"
																   href="../java/comparator.html">Comparator interface</a></li>
							<h4>Collections Framework</h4>
							<li class="nav-item" data-depth="1"><a class="nav-link"
																   href="../java/collections.html">Collections in Java</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link" href="../java/arraylist.html">Java
								ArrayList</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link" href="../java/linkedlist.html">Java
								LinkedList</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link" href="../java/vector.html">Java
								Vector</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link" href="../java/hashset.html">Java
								HashSet</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link"
																   href="../java/linkedhashset.html">Java LinkedHashSet</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link" href="../java/treeset.html">Java
								TreeSet</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link" href="../java/hashmap.html">Java
								HashMap</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link"
																   href="../java/hashmap-internal.html">Java HashMap Working</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link" href="../java/treemap.html">Java
								TreeMap</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link"
																   href="../java/linkedhashmap.html">Java LinkedHashMap</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link" href="../java/syncronized_collection.html">Syncronized Collections
							</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link"
																   href="../java/concurrent.html">Concurrent Collections</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link" href="../java/weak.html">Weak Collections</a></li>
							<h4>Interview Special</h4>
							<li class="nav-item" data-depth="1"><a class="nav-link"
																   href="../interview/java/java-interview-questions.html">Java Interview
								Questions</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link"
																   href="../interview/java/java-collections.html">Collections
								interview questions</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link"
																   href="../java/javaprograms.html">Java programs</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link" href="../java/random.html">Java
								Miscellaneous</a></li>
						</ul>
					</li>
				</div>
			</aside>
		</div>
		<main class="article">
			<div class="toolbar">
				<button class="navbar-burger" id="nav-toggle-1">
					<span></span>
					<span></span>
					<span></span>
				</button>
				<nav class="breadcrumbs">
					<ul>
						<li><a href="../home.html">Home</a></li>
						<li><a href="../java/introduction.html">Java</a></li>
						<li><a href="../java/multithreading.html">Multithreading</a></li>
					</ul>
				</nav>
			</div>
			<div class="doc">
				<nav class="breadcrumbs div-to-hide">
					<ul>
						<li><a href="../home.html">Home</a></li>
						<li><a href="../java/introduction.html">Java</a></li>
						<li><a href="../java/multithreading.html">Multithreading</a></li>
					</ul>

				</nav>
				<a class="div-to-desk">
					<br>
				</a>
				<article>
					<div class="entry-content" itemprop="text">
						<div class="page-header">
							<h1>Java Concurrency: Understanding Thread Pool and Executors</h1>
						</div>
						API in the <span style="font-size: 10pt; line-height: 115%; font-family: 'Courier New';"><span
								style="color: #800000;"><strong>java.util.concurrent</strong></span>&nbsp;</span>package
						that provides utility classes commonly useful in concurrent programming such as executors,
						threads pool management, scheduled tasks execution, the Fork/Join framework, concurrent
						collections, etc.<p></p>Throughout this tutorial, you will learn how thread pool works, and
						how to use different kinds of thread pools via executors.<p></p><strong><span
								style="font-size: 12pt; line-height: 115%;">Table of Content:</span></strong>
						<p></p>
						<p style="margin-left: 0.5in;"><a href="#threadpool">1. Understanding Thread Pool</a></p>
						<p style="margin-left: 0.5in;"><a href="#executors">2. Understanding Executors</a></p>
						<p style="margin-left: 0.5in;"><a href="#SimpleExecutorExample">3. Simple Executor and
								ExecutorService Examples</a></p>
						<p style="margin-left: 0.5in;"><a href="#CachedThreadPool">4. Cached Thread Pool Executor
								Example</a></p>
						<p style="margin-left: 0.5in;"><a href="#CachedThreadPool">5. Fixed Thread Pool Executor
								Example</a></p>
						<p style="margin-left: 0.5in;"><a href="#SingleThreadedPool">6. Single-threaded Pool
								Executor Example</a></p>
						<p style="margin-left: 0.5in;"><a href="#CustomThreadPoolExecutor">7. Creating a Custom
								Thread Pool Executor</a></p>&nbsp
						<h2><a name="threadpool">1. Understanding Thread Pool in Java</a></h2>In terms of
						performance, creating a new thread is an expensive operation because it requires the
						operating system allocates resources need for the thread. Therefore, in practice thread pool
						is used for large-scale applications that launch a lot of short-lived threads in order to
						utilize resources efficiently and increase performance.<p></p>Instead of creating new
						threads when new tasks arrive, a thread pool keeps a number of idle threads that are ready
						for executing tasks as needed. After a thread completes execution of a task, it does not
						die. Instead it remains idle in the pool waiting to be chosen for executing new tasks.<p>
						</p>You can limit a definite number of concurrent threads in the pool, which is useful to
						prevent overload. If all threads are busily executing tasks, new tasks are placed in a
						queue, waiting for a thread becomes available.<p></p>The Java Concurrency API supports the
						following types of thread pools:<p></p>
						<ul>
							<li><strong>Cached thread pool</strong>: keeps a number of alive threads and creates new
								ones as needed.</li>
						</ul>
						<ul>
							<li><strong>Fixed thread pool</strong>: limits the maximum number of concurrent threads.
								Additional tasks are waiting in a queue.</li>
						</ul>
						<ul>
							<li><strong>Single-threaded pool</strong>: keeps only one thread executing one task at a
								time.</li>
						</ul>
						<ul>
							<li><strong>Fork/Join pool</strong>: a special thread pool that uses the Fork/Join
								framework to take advantages of multiple processors to perform heavy work faster by
								breaking the work into smaller pieces recursively.</li>
						</ul>That’s basically how thread pool works. In practice, thread pool is used widely in web
						servers where a thread pool is used to serve client’s requests. Thread pool is also used in
						database applications where a pool of threads maintaining open connections with the
						database.<p></p>
						Implementing a thread pool is a complex task, but you don’t have to do it yourself. As
						the Java Concurrency API allows you to easily create and use thread pools without worrying
						about the details. You will learn how in the next section.<p></p>&nbsp;<p></p>
						<h2><a name="executors">2. Understanding Executors in Java</a></h2>An <span
							style="color: #800000;"><strong><span
									style="font-size: 10pt; line-height: 115%; font-family: 'Courier New';">Executor</span></strong></span>is
						an object that is responsible for threads management and execution of <span
							style="font-size: 10pt; line-height: 115%; font-family: 'Courier New';">Runnable</span>
						tasks submitted from the client code. It decouples the details of thread creation,
						scheduling, etc from the task submission so you can focus on developing the task’s business
						logic without caring about the thread management details.<p></p>That means, in the simplest
						case, rather than creating a thread to execute a task like this:<p></p>
						<div>
							<div id="highlighter_270894" class="syntaxhighlighter  java">
								<table border="0" cellpadding="0" cellspacing="0">
									<tbody>
										<tr>
											<td class="gutter">
												<div class="line number1 index0 alt2">1</div>
												<div class="line number2 index1 alt1">2</div>
											</td>
											<td class="code">
												<div class="container">
													<div class="line number1 index0 alt2"><code
															class="java plain">Thread t = </code><code
															class="java keyword">new</code> <code
															class="java plain">Thread(</code><code
															class="java keyword">new</code> <code
															class="java plain">RunnableTask());</code></div>
													<div class="line number2 index1 alt1"><code
															class="java plain">t.start();</code></div>
												</div>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>You submit tasks to an executor like this:<p></p>
						<div>
							<div id="highlighter_181766" class="syntaxhighlighter  java">
								<table border="0" cellpadding="0" cellspacing="0">
									<tbody>
										<tr>
											<td class="gutter">
												<div class="line number1 index0 alt2">1</div>
												<div class="line number2 index1 alt1">2</div>
												<div class="line number3 index2 alt2">3</div>
											</td>
											<td class="code">
												<div class="container">
													<div class="line number1 index0 alt2"><code
															class="java plain">Executor executor = anExecutorImplementation;</code>
													</div>
													<div class="line number2 index1 alt1"><code
															class="java plain">executor.execute(</code><code
															class="java keyword">new</code> <code
															class="java plain">RunnableTask1());</code></div>
													<div class="line number3 index2 alt2"><code
															class="java plain">executor.execute(</code><code
															class="java keyword">new</code> <code
															class="java plain">RunnableTask2());</code></div>
												</div>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>&nbsp;<p></p>The Java Concurrency API defines the following 3 base interfaces for
						executors:<p></p>
						<ul>
							<li><span style="color: #800000;"><strong><span
											style="font-size: 10pt; line-height: 115%; font-family: 'Courier New';">Executor</span></strong></span>:
								is the super type of all executors. It defines only one method <span
									style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">execute(Runnable)</span>.
							</li>
						</ul>
						<ul>
							<li><span style="color: #800000;"><strong><span
											style="font-size: 10pt; line-height: 115%; font-family: 'Courier New';">ExecutorService</span></strong></span>:
								is an <span
									style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">Executor
								</span>that allows tracking progress of value-returning tasks (<span
									style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">Callable</span>)
								via <span
									style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">Future
								</span>object, and manages the termination of threads. Its key methods include <span
									style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">submit()</span>
								and <span
									style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">shutdown()</span>.
							</li>
						</ul>
						<ul>
							<li><span style="color: #800000;"><strong><span
											style="font-size: 10pt; line-height: 115%; font-family: 'Courier New';">ScheduledExecutorService</span></strong></span>:
								is an <span
									style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">ExecutorService
								</span>that can schedule tasks to execute after a given delay, or to execute
								periodically. Its key methods are <span
									style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">schedule()</span>,
								<span
									style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">scheduleAtFixedRate()</span>
								and <span
									style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">scheduleWithFixedDelay()</span>.
							</li>
						</ul>You can create an executor by using one of several factory methods provided by the
						<strong><span
								style="font-size: 10pt; line-height: 115%; font-family: 'Courier New';">Executors</span></strong>
						utility class. Here’s to name a few:<p></p>
						<ul>
							<li><span style="color: #800000;"><strong><span
											style="font-size: 10pt; line-height: 115%; font-family: 'Courier New';">newCachedThreadPool()</span></strong></span>:
								creates an expandable thread pool executor. New threads are created as needed, and
								previously constructed threads are reused when they are available. Idle threads are
								kept in the pool for one minute. This executor is suitable for applications that
								launch many short-lived concurrent tasks.</li>
						</ul>
						<ul>
							<li><span style="color: #800000;"><strong><span
											style="font-size: 10pt; line-height: 115%; font-family: 'Courier New';">newFixedThreadPool(int
											n)</span></strong></span>: creates an executor with a fixed number of
								threads in the pool. This executor ensures that there are no more than n concurrent
								threads at any time. If additional tasks are submitted when all threads are active,
								they will wait in the queue until a thread becomes available. If any thread
								terminates due to failure during execution, it will be replaced by a new one. The
								threads in the pool will exist until it is explicitly shutdown. Use this executor if
								you and to limit the maximum number of concurrent threads.</li>
						</ul>
						<ul>
							<li><span style="color: #800000;"><strong><span
											style="font-size: 10pt; line-height: 115%; font-family: 'Courier New';">newSingleThreadExecutor()</span></strong></span>:
								creates an executor that executes a single task at a time. Submitted tasks are
								guaranteed to execute sequentially, and no more than one task will be active at any
								time. Consider using this executor if you want to queue tasks to be executed in
								order, one after another.</li>
						</ul>
						<ul>
							<li><span style="color: #800000;"><strong><span
											style="font-size: 10pt; line-height: 115%; font-family: 'Courier New';">newScheduledThreadPool(int
											corePoolSize)</span></strong></span>: creates an executor that can
								schedule tasks to execute after a given delay, or to execute periodically. Consider
								using this executor if you want to schedule tasks to execute concurrently.</li>
						</ul>
						<ul>
							<li><span style="color: #800000;"><strong><span
											style="font-size: 10pt; line-height: 115%; font-family: 'Courier New';">newSingleThreadScheduleExecutor()</span></strong></span>:
								creates a single-threaded executor that can schedule tasks to execute after a given
								delay, or to execute periodically. Consider using this executor if you want to
								schedule tasks to execute sequentially.</li>
						</ul>In case the factory methods do not meet your need, you can construct an executor
						directly as an instance of either <span
							style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">ThreadPoolExecutor
						</span>or <span
							style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">ScheduledThreadPoolExecutor</span>,
						which gives you additional options such as pool size, on-demand construction, keep-alive
						times, etc.<p></p>For creating a Fork/Join pool, construct an instance of the <span
							style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">ForkJoinPool
						</span>class.<p></p>&nbsp;<p></p>
						<h2><a name="SimpleExecutorExample">3. Java Simple Executor and ExecutorService Examples</a>
						</h2>Let’s see a couple of quick examples showing how to create an executor to execute a
						<span
							style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">Runnable
						</span>task and a <span
							style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">Callable</span>
						task.<p></p>The following program shows you a simple example of executing a task by a
						single-threaded executor:<p></p>
						<div>
							<div id="highlighter_493311" class="syntaxhighlighter  java">
								<table border="0" cellpadding="0" cellspacing="0">
									<tbody>
										<tr>
											<td class="gutter">
												<div class="line number1 index0 alt2">1</div>
												<div class="line number2 index1 alt1">2</div>
												<div class="line number3 index2 alt2">3</div>
												<div class="line number4 index3 alt1">4</div>
												<div class="line number5 index4 alt2">5</div>
												<div class="line number6 index5 alt1">6</div>
												<div class="line number7 index6 alt2">7</div>
												<div class="line number8 index7 alt1">8</div>
												<div class="line number9 index8 alt2">9</div>
												<div class="line number10 index9 alt1">10</div>
												<div class="line number11 index10 alt2">11</div>
												<div class="line number12 index11 alt1">12</div>
												<div class="line number13 index12 alt2">13</div>
												<div class="line number14 index13 alt1">14</div>
												<div class="line number15 index14 alt2">15</div>
												<div class="line number16 index15 alt1">16</div>
												<div class="line number17 index16 alt2">17</div>
												<div class="line number18 index17 alt1">18</div>
												<div class="line number19 index18 alt2">19</div>
												<div class="line number20 index19 alt1">20</div>
												<div class="line number21 index20 alt2">21</div>
												<div class="line number22 index21 alt1">22</div>
												<div class="line number23 index22 alt2">23</div>
												<div class="line number24 index23 alt1">24</div>
											</td>
											<td class="code">
												<div class="container">
													<div class="line number1 index0 alt2"><code
															class="java keyword">import</code> <code
															class="java plain">java.util.concurrent.*;</code></div>
													<div class="line number2 index1 alt1">&nbsp;</div>
													<div class="line number3 index2 alt2"><code
															class="java preprocessor">/**</code></div>
													<div class="line number4 index3 alt1"><code
															class="java spaces">&nbsp;</code><code
															class="java preprocessor">* SimpleExecutorExample.java</code>
													</div>
													<div class="line number5 index4 alt2"><code
															class="java spaces">&nbsp;</code><code
															class="java preprocessor">* This program demonstrates how to create a single-threaded executor</code>
													</div>
													<div class="line number6 index5 alt1"><code
															class="java spaces">&nbsp;</code><code
															class="java preprocessor">* to execute a Runnable task.</code>
													</div>
													<div class="line number7 index6 alt2"><code
															class="java spaces">&nbsp;</code><code
															class="java preprocessor">* @author www.codejava.net</code>
													</div>
													<div class="line number8 index7 alt1"><code
															class="java spaces">&nbsp;</code><code
															class="java preprocessor">*/</code></div>
													<div class="line number9 index8 alt2"><code
															class="java keyword">public</code> <code
															class="java keyword">class</code> <code
															class="java plain">SimpleExecutorExample {</code></div>
													<div class="line number10 index9 alt1">&nbsp;</div>
													<div class="line number11 index10 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java keyword">public</code> <code
															class="java keyword">static</code> <code
															class="java keyword">void</code> <code
															class="java plain">main(String[] args) {</code></div>
													<div class="line number12 index11 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">ExecutorService pool = Executors.newSingleThreadExecutor();</code>
													</div>
													<div class="line number13 index12 alt2">&nbsp;</div>
													<div class="line number14 index13 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">Runnable task = </code><code
															class="java keyword">new</code> <code
															class="java plain">Runnable() {</code></div>
													<div class="line number15 index14 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java keyword">public</code> <code
															class="java keyword">void</code> <code
															class="java plain">run() {</code></div>
													<div class="line number16 index15 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">System.out.println(Thread.currentThread().getName());</code>
													</div>
													<div class="line number17 index16 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">}</code></div>
													<div class="line number18 index17 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">};</code></div>
													<div class="line number19 index18 alt2">&nbsp;</div>
													<div class="line number20 index19 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">pool.execute(task);</code></div>
													<div class="line number21 index20 alt2">&nbsp;</div>
													<div class="line number22 index21 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">pool.shutdown();</code></div>
													<div class="line number23 index22 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">}</code></div>
													<div class="line number24 index23 alt1"><code
															class="java plain">}</code></div>
												</div>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>As you can see, a <span
							style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">Runnable
						</span>task is created using anonymous-class syntax. The task simply prints the thread name
						and terminates. Compile and run this program and you will see the output something like
						this:<p></p>
						Note that you should call <span
							style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">shutdown()</span>
						to destroy the executor after the thread completes execution. Otherwise, the program is
						still running afterward. You can observe this behavior by commenting the call to shutdown.
						<p></p>And the following program shows you how to submit a <span
							style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">Callable
						</span>task to an executor.&nbsp; A <span
							style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">Callable
						</span>task returns a value upon completion and we use the <span
							style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">Future
						</span>object to obtain the value. Here’s the code:<p></p>
						<div>
							<div id="highlighter_463252" class="syntaxhighlighter  java">
								<table border="0" cellpadding="0" cellspacing="0">
									<tbody>
										<tr>
											<td class="gutter">
												<div class="line number1 index0 alt2">1</div>
												<div class="line number2 index1 alt1">2</div>
												<div class="line number3 index2 alt2">3</div>
												<div class="line number4 index3 alt1">4</div>
												<div class="line number5 index4 alt2">5</div>
												<div class="line number6 index5 alt1">6</div>
												<div class="line number7 index6 alt2">7</div>
												<div class="line number8 index7 alt1">8</div>
												<div class="line number9 index8 alt2">9</div>
												<div class="line number10 index9 alt1">10</div>
												<div class="line number11 index10 alt2">11</div>
												<div class="line number12 index11 alt1">12</div>
												<div class="line number13 index12 alt2">13</div>
												<div class="line number14 index13 alt1">14</div>
												<div class="line number15 index14 alt2">15</div>
												<div class="line number16 index15 alt1">16</div>
												<div class="line number17 index16 alt2">17</div>
												<div class="line number18 index17 alt1">18</div>
												<div class="line number19 index18 alt2">19</div>
												<div class="line number20 index19 alt1">20</div>
												<div class="line number21 index20 alt2">21</div>
												<div class="line number22 index21 alt1">22</div>
												<div class="line number23 index22 alt2">23</div>
												<div class="line number24 index23 alt1">24</div>
												<div class="line number25 index24 alt2">25</div>
												<div class="line number26 index25 alt1">26</div>
												<div class="line number27 index26 alt2">27</div>
												<div class="line number28 index27 alt1">28</div>
												<div class="line number29 index28 alt2">29</div>
												<div class="line number30 index29 alt1">30</div>
												<div class="line number31 index30 alt2">31</div>
												<div class="line number32 index31 alt1">32</div>
												<div class="line number33 index32 alt2">33</div>
												<div class="line number34 index33 alt1">34</div>
												<div class="line number35 index34 alt2">35</div>
												<div class="line number36 index35 alt1">36</div>
												<div class="line number37 index36 alt2">37</div>
												<div class="line number38 index37 alt1">38</div>
												<div class="line number39 index38 alt2">39</div>
												<div class="line number40 index39 alt1">40</div>
												<div class="line number41 index40 alt2">41</div>
											</td>
											<td class="code">
												<div class="container">
													<div class="line number1 index0 alt2"><code
															class="java keyword">import</code> <code
															class="java plain">java.util.concurrent.*;</code></div>
													<div class="line number2 index1 alt1">&nbsp;</div>
													<div class="line number3 index2 alt2"><code
															class="java preprocessor">/**</code></div>
													<div class="line number4 index3 alt1"><code
															class="java spaces">&nbsp;</code><code
															class="java preprocessor">* SimpleExecutorServiceExample.java</code>
													</div>
													<div class="line number5 index4 alt2"><code
															class="java spaces">&nbsp;</code><code
															class="java preprocessor">* This program demonstrates how to create a single-threaded executor</code>
													</div>
													<div class="line number6 index5 alt1"><code
															class="java spaces">&nbsp;</code><code
															class="java preprocessor">* to execute a Callable task.</code>
													</div>
													<div class="line number7 index6 alt2"><code
															class="java spaces">&nbsp;</code><code
															class="java preprocessor">* @author www.codejava.net</code>
													</div>
													<div class="line number8 index7 alt1"><code
															class="java spaces">&nbsp;</code><code
															class="java preprocessor">*/</code></div>
													<div class="line number9 index8 alt2"><code
															class="java keyword">public</code> <code
															class="java keyword">class</code> <code
															class="java plain">SimpleExecutorServiceExample {</code>
													</div>
													<div class="line number10 index9 alt1">&nbsp;</div>
													<div class="line number11 index10 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java keyword">public</code> <code
															class="java keyword">static</code> <code
															class="java keyword">void</code> <code
															class="java plain">main(String[] args) {</code></div>
													<div class="line number12 index11 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">ExecutorService pool = Executors.newSingleThreadExecutor();</code>
													</div>
													<div class="line number13 index12 alt2">&nbsp;</div>
													<div class="line number14 index13 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">Callable&lt;Integer&gt; task = </code><code
															class="java keyword">new</code> <code
															class="java plain">Callable&lt;Integer&gt;() {</code>
													</div>
													<div class="line number15 index14 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java keyword">public</code> <code
															class="java plain">Integer call() {</code></div>
													<div class="line number16 index15 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java keyword">try</code> <code
															class="java plain">{</code></div>
													<div class="line number17 index16 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java comments">// fake computation time</code>
													</div>
													<div class="line number18 index17 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">Thread.sleep(</code><code
															class="java value">5000</code><code
															class="java plain">);</code></div>
													<div class="line number19 index18 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">} </code><code
															class="java keyword">catch</code> <code
															class="java plain">(InterruptedException ex) {</code>
													</div>
													<div class="line number20 index19 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">ex.printStackTrace();</code></div>
													<div class="line number21 index20 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">}</code></div>
													<div class="line number22 index21 alt1">&nbsp;</div>
													<div class="line number23 index22 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java keyword">return</code> <code
															class="java value">1000</code><code
															class="java plain">;</code></div>
													<div class="line number24 index23 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">}</code></div>
													<div class="line number25 index24 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">};</code></div>
													<div class="line number26 index25 alt1">&nbsp;</div>
													<div class="line number27 index26 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">Future&lt;Integer&gt; result = pool.submit(task);</code>
													</div>
													<div class="line number28 index27 alt1">&nbsp;</div>
													<div class="line number29 index28 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java keyword">try</code> <code
															class="java plain">{</code></div>
													<div class="line number30 index29 alt1">&nbsp;</div>
													<div class="line number31 index30 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">Integer returnValue = result.get();</code>
													</div>
													<div class="line number32 index31 alt1">&nbsp;</div>
													<div class="line number33 index32 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">System.out.println(</code><code
															class="java string">"Return value = "</code> <code
															class="java plain">+ returnValue);</code></div>
													<div class="line number34 index33 alt1">&nbsp;</div>
													<div class="line number35 index34 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">} </code><code
															class="java keyword">catch</code> <code
															class="java plain">(InterruptedException | ExecutionException ex) {</code>
													</div>
													<div class="line number36 index35 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">ex.printStackTrace();</code></div>
													<div class="line number37 index36 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">}</code></div>
													<div class="line number38 index37 alt1">&nbsp;</div>
													<div class="line number39 index38 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">pool.shutdown();</code></div>
													<div class="line number40 index39 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">}</code></div>
													<div class="line number41 index40 alt2"><code
															class="java plain">}</code></div>
												</div>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>Note that the <span
							style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">Future</span>’s
						<span
							style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">get()</span>
						method blocks the current thread until the task completes and returns the value. Run this
						program and you will see the following output after 5 seconds:<p></p>
						<div>
							<div id="highlighter_828234" class="syntaxhighlighter  text">
								<table border="0" cellpadding="0" cellspacing="0">
									<tbody>
										<tr>
											<td class="gutter">
												<div class="line number1 index0 alt2">1</div>
											</td>
											<td class="code">
												<div class="container">
													<div class="line number1 index0 alt2"><code
															class="text plain">Return value = 1000</code></div>
												</div>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>For more details about executing tasks with <span
							style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">Callable
						</span>and <span
							style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">Future</span>,
						see Java Concurrency: Executing Value-Returning Tasks with Callable and
							Future.<p></p>Let’s see a more complex example in which I show you how to execute
						multiple tasks using different kinds of executors.<p></p>&nbsp;<p></p>
						<h2><a name="CachedThreadPool">4. Java Cached Thread Pool Executor Example</a></h2>The
						following example shows you how to create a cached thread pool to execute some tasks
						concurrently. Given the following class:<p></p>
						<div>
							<div id="highlighter_905223" class="syntaxhighlighter  java">
								<table border="0" cellpadding="0" cellspacing="0">
									<tbody>
										<tr>
											<td class="gutter">
												<div class="line number1 index0 alt2">1</div>
												<div class="line number2 index1 alt1">2</div>
												<div class="line number3 index2 alt2">3</div>
												<div class="line number4 index3 alt1">4</div>
												<div class="line number5 index4 alt2">5</div>
												<div class="line number6 index5 alt1">6</div>
												<div class="line number7 index6 alt2">7</div>
												<div class="line number8 index7 alt1">8</div>
												<div class="line number9 index8 alt2">9</div>
												<div class="line number10 index9 alt1">10</div>
												<div class="line number11 index10 alt2">11</div>
												<div class="line number12 index11 alt1">12</div>
												<div class="line number13 index12 alt2">13</div>
												<div class="line number14 index13 alt1">14</div>
												<div class="line number15 index14 alt2">15</div>
												<div class="line number16 index15 alt1">16</div>
												<div class="line number17 index16 alt2">17</div>
												<div class="line number18 index17 alt1">18</div>
												<div class="line number19 index18 alt2">19</div>
												<div class="line number20 index19 alt1">20</div>
												<div class="line number21 index20 alt2">21</div>
												<div class="line number22 index21 alt1">22</div>
												<div class="line number23 index22 alt2">23</div>
												<div class="line number24 index23 alt1">24</div>
												<div class="line number25 index24 alt2">25</div>
												<div class="line number26 index25 alt1">26</div>
												<div class="line number27 index26 alt2">27</div>
											</td>
											<td class="code">
												<div class="container">
													<div class="line number1 index0 alt2"><code
															class="java preprocessor">/**</code></div>
													<div class="line number2 index1 alt1"><code
															class="java spaces">&nbsp;</code><code
															class="java preprocessor">* CountDownClock.java</code>
													</div>
													<div class="line number3 index2 alt2"><code
															class="java spaces">&nbsp;</code><code
															class="java preprocessor">* This class represents a coutdown clock.</code>
													</div>
													<div class="line number4 index3 alt1"><code
															class="java spaces">&nbsp;</code><code
															class="java preprocessor">* @author www.codejava.net</code>
													</div>
													<div class="line number5 index4 alt2"><code
															class="java spaces">&nbsp;</code><code
															class="java preprocessor">*/</code></div>
													<div class="line number6 index5 alt1"><code
															class="java keyword">public</code> <code
															class="java keyword">class</code> <code
															class="java plain">CountDownClock </code><code
															class="java keyword">extends</code> <code
															class="java plain">Thread {</code></div>
													<div class="line number7 index6 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java keyword">private</code> <code
															class="java plain">String clockName;</code></div>
													<div class="line number8 index7 alt1">&nbsp;</div>
													<div class="line number9 index8 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java keyword">public</code> <code
															class="java plain">CountDownClock(String clockName) {</code>
													</div>
													<div class="line number10 index9 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java keyword">this</code><code
															class="java plain">.clockName = clockName;</code></div>
													<div class="line number11 index10 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">}</code></div>
													<div class="line number12 index11 alt1">&nbsp;</div>
													<div class="line number13 index12 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java keyword">public</code> <code
															class="java keyword">void</code> <code
															class="java plain">run() {</code></div>
													<div class="line number14 index13 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">String threadName = Thread.currentThread().getName();</code>
													</div>
													<div class="line number15 index14 alt2">&nbsp;</div>
													<div class="line number16 index15 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java keyword">for</code> <code
															class="java plain">(</code><code
															class="java keyword">int</code> <code
															class="java plain">i = </code><code
															class="java value">5</code><code
															class="java plain">; i &gt;= </code><code
															class="java value">0</code><code
															class="java plain">; i--) {</code></div>
													<div class="line number17 index16 alt2">&nbsp;</div>
													<div class="line number18 index17 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">System.out.printf(</code><code
															class="java string">"%s -&gt; %s: %d\n"</code><code
															class="java plain">, threadName, clockName, i);</code>
													</div>
													<div class="line number19 index18 alt2">&nbsp;</div>
													<div class="line number20 index19 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java keyword">try</code> <code
															class="java plain">{</code></div>
													<div class="line number21 index20 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">Thread.sleep(</code><code
															class="java value">1000</code><code
															class="java plain">);</code></div>
													<div class="line number22 index21 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">} </code><code
															class="java keyword">catch</code> <code
															class="java plain">(InterruptedException ex) {</code>
													</div>
													<div class="line number23 index22 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">ex.printStackTrace();</code></div>
													<div class="line number24 index23 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">}</code></div>
													<div class="line number25 index24 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">}</code></div>
													<div class="line number26 index25 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">}</code></div>
													<div class="line number27 index26 alt2"><code
															class="java plain">}</code></div>
												</div>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>This class represents a countdown clock that counts a number from 5 down to 0, and
						pause 1 second after every count. Upon running, it prints the current thread name, follows
						by the clock name and the count number.<p></p>Let’s create an executor with a cached thread
						pool to execute 4 clocks concurrently. Here’s the code:<p></p>
						<div>
							<div id="highlighter_278949" class="syntaxhighlighter  java">
								<table border="0" cellpadding="0" cellspacing="0">
									<tbody>
										<tr>
											<td class="gutter">
												<div class="line number1 index0 alt2">1</div>
												<div class="line number2 index1 alt1">2</div>
												<div class="line number3 index2 alt2">3</div>
												<div class="line number4 index3 alt1">4</div>
												<div class="line number5 index4 alt2">5</div>
												<div class="line number6 index5 alt1">6</div>
												<div class="line number7 index6 alt2">7</div>
												<div class="line number8 index7 alt1">8</div>
												<div class="line number9 index8 alt2">9</div>
												<div class="line number10 index9 alt1">10</div>
												<div class="line number11 index10 alt2">11</div>
												<div class="line number12 index11 alt1">12</div>
												<div class="line number13 index12 alt2">13</div>
												<div class="line number14 index13 alt1">14</div>
												<div class="line number15 index14 alt2">15</div>
												<div class="line number16 index15 alt1">16</div>
												<div class="line number17 index16 alt2">17</div>
												<div class="line number18 index17 alt1">18</div>
												<div class="line number19 index18 alt2">19</div>
												<div class="line number20 index19 alt1">20</div>
												<div class="line number21 index20 alt2">21</div>
												<div class="line number22 index21 alt1">22</div>
												<div class="line number23 index22 alt2">23</div>
											</td>
											<td class="code">
												<div class="container">
													<div class="line number1 index0 alt2"><code
															class="java keyword">import</code> <code
															class="java plain">java.util.concurrent.*;</code></div>
													<div class="line number2 index1 alt1">&nbsp;</div>
													<div class="line number3 index2 alt2"><code
															class="java preprocessor">/**</code></div>
													<div class="line number4 index3 alt1"><code
															class="java spaces">&nbsp;</code><code
															class="java preprocessor">* MultipleTasksExecutorExample.java</code>
													</div>
													<div class="line number5 index4 alt2"><code
															class="java spaces">&nbsp;</code><code
															class="java preprocessor">* This program demonstrates how to execute multiple tasks</code>
													</div>
													<div class="line number6 index5 alt1"><code
															class="java spaces">&nbsp;</code><code
															class="java preprocessor">* with different kinds of executors.</code>
													</div>
													<div class="line number7 index6 alt2"><code
															class="java spaces">&nbsp;</code><code
															class="java preprocessor">* @author www.codejava.net</code>
													</div>
													<div class="line number8 index7 alt1"><code
															class="java spaces">&nbsp;</code><code
															class="java preprocessor">*/</code></div>
													<div class="line number9 index8 alt2"><code
															class="java keyword">public</code> <code
															class="java keyword">class</code> <code
															class="java plain">MultipleTasksExecutorExample {</code>
													</div>
													<div class="line number10 index9 alt1">&nbsp;</div>
													<div class="line number11 index10 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java keyword">public</code> <code
															class="java keyword">static</code> <code
															class="java keyword">void</code> <code
															class="java plain">main(String[] args) {</code></div>
													<div class="line number12 index11 alt1">&nbsp;</div>
													<div class="line number13 index12 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">ExecutorService pool = Executors.newCachedThreadPool();</code>
													</div>
													<div class="line number14 index13 alt1">&nbsp;</div>
													<div class="line number15 index14 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">pool.execute(</code><code
															class="java keyword">new</code> <code
															class="java plain">CountDownClock(</code><code
															class="java string">"A"</code><code
															class="java plain">));</code></div>
													<div class="line number16 index15 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">pool.execute(</code><code
															class="java keyword">new</code> <code
															class="java plain">CountDownClock(</code><code
															class="java string">"B"</code><code
															class="java plain">));</code></div>
													<div class="line number17 index16 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">pool.execute(</code><code
															class="java keyword">new</code> <code
															class="java plain">CountDownClock(</code><code
															class="java string">"C"</code><code
															class="java plain">));</code></div>
													<div class="line number18 index17 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">pool.execute(</code><code
															class="java keyword">new</code> <code
															class="java plain">CountDownClock(</code><code
															class="java string">"D"</code><code
															class="java plain">));</code></div>
													<div class="line number19 index18 alt2">&nbsp;</div>
													<div class="line number20 index19 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">pool.shutdown();</code></div>
													<div class="line number21 index20 alt2">&nbsp;</div>
													<div class="line number22 index21 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">}</code></div>
													<div class="line number23 index22 alt2"><code
															class="java plain">}</code></div>
												</div>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>Compile and run this program, you will see that there are 4 threads executing the 4
						clocks at the same time:<p></p><img loading="lazy"
							style="display: block; margin-left: auto; margin-right: auto;"
							src="../scripts/images/Java/cached_thread_pool_test.png" alt="cached thread pool test">
						<p></p>Modify this program to add more tasks e.g. add more 3 clocks. Recompile and run the
						program again, you will see that the number of threads is as equal as the number of
						submitted tasks. That’s the key behavior of a cached thread pool: new threads are created as
						needed.<p></p>&nbsp;<p></p>
						<h2><a name="FixedThreadPool">5. Java Fixed Thread Pool Executor Example</a></h2>Next,
						update the statement that creates the executor to use a fixed thread pool:<p></p>
						<div>
							<div id="highlighter_988756" class="syntaxhighlighter  java">
								<table border="0" cellpadding="0" cellspacing="0">
									<tbody>
										<tr>
											<td class="gutter">
												<div class="line number1 index0 alt2">1</div>
											</td>
											<td class="code">
												<div class="container">
													<div class="line number1 index0 alt2"><code
															class="java plain">ExecutorService pool = Executors.newFixedThreadPool(</code><code
															class="java value">2</code><code
															class="java plain">);</code></div>
												</div>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>Here, we create an executor with a pool of maximum 2 concurrent threads. Keep only 4
						task (4 clocks) submitted to the executor. Recompile and run the program you will see that
						there are only 2 threads executing the clocks:<p></p><img loading="lazy"
							style="display: block; margin-left: auto; margin-right: auto;"
							src="../scripts/images/Java/fixed_thread_pool_test.png" alt="fixed thread pool test">
						<p></p>The clocks A and B run first, while the clocks C and D are waiting in the queue.
						After A and B completes execution, the 2 threads continue executing the clocks C and D.
						That’s the key behavior of a fixed thread pool: limiting the number of concurrent threads
						and queuing additional tasks.<p></p>&nbsp;<p></p>
						<h2><a name="SingleThreadedPool">6. Java Single-threaded Pool Executor Example</a></h2>Let’s
						update the program above to use a single-threaded executor like this:<p></p>
						<div>
							<div id="highlighter_837094" class="syntaxhighlighter  java">
								<table border="0" cellpadding="0" cellspacing="0">
									<tbody>
										<tr>
											<td class="gutter">
												<div class="line number1 index0 alt2">1</div>
											</td>
											<td class="code">
												<div class="container">
													<div class="line number1 index0 alt2"><code
															class="java plain">ExecutorService pool = Executors.newSingleThreadExecutor();</code>
													</div>
												</div>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>Recompile and run the program, you will see that there’s only one thread executing the
						4 clocks sequentially:<p></p><img loading="lazy"
							style="display: block; margin-left: auto; margin-right: auto;"
							src="../scripts/images/Java/single_threaded_pool_test.png" alt="single threaded pool test">
						<p></p>That’s the key behavior of a single-threaded executor: queue tasks to execute in
						order, one after another.<p></p>&nbsp;<p></p>
						<h2><a name="CustomThreadPoolExecutor">7. Creating a Custom Thread Pool Executor</a></h2>In
						case you want to have more control over the behaviors of a thread pool, you can create a
						thread pool executor directly from the <strong><span
								style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">ThreadPoolExecutor</span></strong>class
						instead of the factory methods of the <span
							style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">Executors
						</span>utility class.<p></p>For example, the <span
							style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">ThreadPoolExecutor
						</span>has a general purpose constructor as follows:<p></p>
						<div>
							<div id="highlighter_56008" class="syntaxhighlighter  java">
								<table border="0" cellpadding="0" cellspacing="0">
									<tbody>
										<tr>
											<td class="gutter">
												<div class="line number1 index0 alt2">1</div>
												<div class="line number2 index1 alt1">2</div>
												<div class="line number3 index2 alt2">3</div>
												<div class="line number4 index3 alt1">4</div>
												<div class="line number5 index4 alt2">5</div>
											</td>
											<td class="code">
												<div class="container">
													<div class="line number1 index0 alt2"><code
															class="java keyword">public</code> <code
															class="java plain">ThreadPoolExecutor(</code><code
															class="java keyword">int</code> <code
															class="java plain">corePoolSize,</code></div>
													<div class="line number2 index1 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java keyword">int</code> <code
															class="java plain">maximumPoolSize,</code></div>
													<div class="line number3 index2 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java keyword">long</code> <code
															class="java plain">keepAliveTime,</code></div>
													<div class="line number4 index3 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">TimeUnit unit,</code></div>
													<div class="line number5 index4 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">BlockingQueue&lt;Runnable&gt; workQueue)</code>
													</div>
												</div>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>You can tweak the parameters to suit your need, as long as you really understand what
						they mean:<p></p>
						<ul>
							<li><span style="color: #800000;"><strong><span
											style="font-size: 10pt; line-height: 115%; font-family: 'Courier New';">corePoolSize</span></strong></span>:
								the number of threads to keep in the pool.</li>
						</ul>
						<ul>
							<li><span style="color: #800000;"><strong><span
											style="font-size: 10pt; line-height: 115%; font-family: 'Courier New';">maximumPoolSize</span></strong></span>:
								the maximum number of threads to allow in the pool.</li>
						</ul>
						<ul>
							<li><span style="color: #800000;"><strong><span
											style="font-size: 10pt; line-height: 115%; font-family: 'Courier New';">keepAliveTime</span></strong></span>:
								if the pool currently has more than <span
									style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">corePoolSize
								</span>threads, excess threads will be terminated if they have been idle for more
								than <span
									style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">keepAliveTime</span>.
							</li>
						</ul>
						<ul>
							<li><span style="color: #800000;"><strong><span
											style="font-size: 10pt; line-height: 115%; font-family: 'Courier New';">unit</span></strong></span>:
								the time unit for the <span
									style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">keepAliveTime
								</span>argument. Can be <span
									style="font-size: 10pt; line-height: 115%; font-family: 'Courier New';">NANOSECONDS</span>,
								<span
									style="font-size: 10pt; line-height: 115%; font-family: 'Courier New';">MILLISECONDS</span>,
								<span
									style="font-size: 10pt; line-height: 115%; font-family: 'Courier New';">SECONDS</span>,
								<span
									style="font-size: 10pt; line-height: 115%; font-family: 'Courier New';">MINUTES</span>,
								<span
									style="font-size: 10pt; line-height: 115%; font-family: 'Courier New';">HOURS</span>
								and <span
									style="font-size: 10pt; line-height: 115%; font-family: 'Courier New';">DAYS</span>.
							</li>
						</ul>
						<ul>
							<li><span style="color: #800000;"><strong><span
											style="font-size: 10pt; line-height: 115%; font-family: 'Courier New';">workQueue</span></strong></span>:
								the queue used for holding tasks before they are executed. Default choices are <span
									style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">SynchronousQueue
								</span>for multi-threaded pools and <span
									style="font-size: 10pt; line-height: 115%; font-family: 'Courier New'; color: #800000;">LinkedBlockingQueue
								</span>for single-threaded pools.</li>
						</ul>Let’s see an example. The following code creates a cached thread pool that keeps
						minimum of 10 threads and allow maximum of 1,000 threads, and idle threads are kept in the
						pool for 120 seconds:<p></p>
						<div>
							<div id="highlighter_627268" class="syntaxhighlighter  java">
								<table border="0" cellpadding="0" cellspacing="0">
									<tbody>
										<tr>
											<td class="gutter">
												<div class="line number1 index0 alt2">1</div>
												<div class="line number2 index1 alt1">2</div>
												<div class="line number3 index2 alt2">3</div>
												<div class="line number4 index3 alt1">4</div>
												<div class="line number5 index4 alt2">5</div>
												<div class="line number6 index5 alt1">6</div>
												<div class="line number7 index6 alt2">7</div>
												<div class="line number8 index7 alt1">8</div>
												<div class="line number9 index8 alt2">9</div>
												<div class="line number10 index9 alt1">10</div>
												<div class="line number11 index10 alt2">11</div>
											</td>
											<td class="code">
												<div class="container">
													<div class="line number1 index0 alt2"><code
															class="java keyword">int</code> <code
															class="java plain">corePoolSize = </code><code
															class="java value">10</code><code
															class="java plain">;</code></div>
													<div class="line number2 index1 alt1"><code
															class="java keyword">int</code> <code
															class="java plain">maxPoolSize = </code><code
															class="java value">1000</code><code
															class="java plain">;</code></div>
													<div class="line number3 index2 alt2"><code
															class="java keyword">int</code> <code
															class="java plain">keepAliveTime = </code><code
															class="java value">120</code><code
															class="java plain">;</code></div>
													<div class="line number4 index3 alt1"><code
															class="java plain">BlockingQueue&lt;Runnable&gt; workQueue = </code><code
															class="java keyword">new</code> <code
															class="java plain">SynchronousQueue&lt;Runnable&gt;();</code>
													</div>
													<div class="line number5 index4 alt2">&nbsp;</div>
													<div class="line number6 index5 alt1"><code
															class="java plain">ThreadPoolExecutor pool = </code><code
															class="java keyword">new</code> <code
															class="java plain">ThreadPoolExecutor(corePoolSize,</code>
													</div>
													<div class="line number7 index6 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">maxPoolSize,</code></div>
													<div class="line number8 index7 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">keepAliveTime,</code></div>
													<div class="line number9 index8 alt2"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">TimeUnit.SECONDS,</code></div>
													<div class="line number10 index9 alt1"><code
															class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code
															class="java plain">workQueue);</code></div>
													<div class="line number11 index10 alt2"><code
															class="java plain">pool.execute(</code><code
															class="java keyword">new</code> <code
															class="java plain">RunnableTask());</code></div>
												</div>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>You can see that when <span
							style="font-size: 10pt; line-height: 115%; font-family: 'Courier New';">corePoolSize</span>
						= <span
							style="font-size: 10pt; line-height: 115%; font-family: 'Courier New';">maxPoolSize</span>
						= <span style="font-size: 10pt; line-height: 115%; font-family: 'Courier New';">1</span>, we
						have a single-threaded pool executor.<p></p>&nbsp;<p></p>














						<p>
							The Java <em>ExecutorService</em> interface,
							<code>java.util.concurrent.ExecutorService</code>, represents an
							asynchronous execution mechanism which is capable of executing tasks concurrently in the
							background.
							In this Java <code>ExecutorService</code> tutorial I will explain how to create a
							<code>ExecutorService</code>,
							how to submit tasks for execution to it, how to see the results of those tasks, and how
							to shut down the
							<code>ExecutorService</code> again when you need to.
						</p>

						<a name="task-delegation"></a>
						<h2>Task Delegation</h2>

						<p>
							Here is a diagram illustrating a thread delegating a task to a Java
							<code>ExecutorService</code> for asynchronous execution:
						</p>
						<img loading="lazy" src="../scripts/images/Java/executor-service.png"
							alt="						A thread delegating a task to an ExecutorService for asynchronous execution"
							class="responsive" title="Spring Cloud Sleuth Tutorial" />
						<h3> A thread delegating a task to an ExecutorService for
							asynchronous execution.</h3>
						<p>
							Once the thread has delegated the task to the <code>ExecutorService</code>, the thread
							continues its own execution
							independent of the execution of that task. The <code>ExecutorService</code> then
							executes the task concurrently,
							independently of the thread that submitted the task.
						</p>




						<a name="java-executorservice-example"></a>
						<h2>Java ExecutorService Example</h2>

						<p>
							Before we get too deep into the <code>ExecutorService</code>, let us look at a simple
							example.
							Here is a simple Java <code>ExecutorService</code> example:
						</p>

						<pre class="nz oa ob oc od oe of og bo oh ba bj">ExecutorService executorService = Executors.newFixedThreadPool(10);
						
						executorService.execute(new Runnable() {
						    public void run() {
						        System.out.println("Asynchronous task");
						    }
						});
						
						executorService.shutdown();
						</pre>


						<p>
							First an <code>ExecutorService</code> is created using the <code>Executors</code>
							<code>newFixedThreadPool()</code>
							factory method. This creates a thread pool with 10 threads executing tasks.
						</p>

						<p>
							Second, an anonymous implementation of the <code>Runnable</code> interface is passed
							to the <code>execute()</code> method. This causes the <code>Runnable</code> to be
							executed
							by one of the threads in the <code>ExecutorService</code>.
						</p>

						<p>
							You will see several more examples of how to use the <code>ExecutorService</code>
							throughout this tutorial.
							This example just served to give you a quick overview of how using an
							<code>ExecutorService</code> to
							execute tasks in the background looks like.
						</p>




						<a name="java-executorservice-implementations"></a>
						<h2>Java ExecutorService Implementations</h2>

						<p>
							The Java <code>ExecutorService</code> is very similar to a thread pool.
							In fact, the implementation of the <code>ExecutorService</code> interface present in the
							<code>java.util.concurrent</code> package is a thread pool implementation. If you want
							to understand how the
							<code>ExecutorService</code> interface can be implemented internally, read the above
							tutorial.
						</p>

						<p>
							Since <code>ExecutorService</code> is an interface, you need to its implementations in
							order
							to make any use of it. The <code>ExecutorService</code> has the following implementation
							in the <code>java.util.concurrent</code>
							package:
						</p>

						<ul>
							<li>ThreadPoolExecutor</li>
							<li>ScheduledThreadPoolExecutor</li>
						</ul>





						<a name="creating-an-executorservice"></a>
						<h2>Creating an ExecutorService</h2>

						<p>
							How you create an <code>ExecutorService</code> depends on the implementation you use.
							However, you can
							use the <code>Executors</code> factory class to create <code>ExecutorService</code>
							instances too.
							Here are a few examples of creating an <code>ExecutorService</code>:
						</p>

						<pre class="nz oa ob oc od oe of og bo oh ba bj">ExecutorService executorService1 = Executors.newSingleThreadExecutor();
						
						ExecutorService executorService2 = Executors.newFixedThreadPool(10);
						
						ExecutorService executorService3 = Executors.newScheduledThreadPool(10);
						</pre>



						<a name="creating-an-executorservice-that-uses-virtual-threads"></a>
						<h2>Creating an ExecutorService That Uses Virtual Threads</h2>

						<p>Java virtual threads
							were added to Java in Java 19.
							It is also possible to create a Java ExecutorService that uses virtual threads
							internally. Here is an example
							of creating a Java ExecutorService that starts a new virtual thread for each task
							submitted to it:
						</p>

						<pre class="nz oa ob oc od oe of og bo oh ba bj">ExecutorService executor = Executors.newVirtualThreadPerTaskExecutor();
						</pre>




						<a name="executorservice-usage"></a>
						<h2>ExecutorService Usage</h2>
						<p>
							There are a few different ways to delegate tasks for execution to an
							<code>ExecutorService</code>:
						</p>

						<ul>
							<li>execute(Runnable)</li>
							<li>submit(Runnable)</li>
							<li>submit(Callable)</li>
							<li>invokeAny(...)</li>
							<li>invokeAll(...)</li>
						</ul>

						<p>
							I will take a look at each of these methods in the following sections.
						</p>




						<a name="execute-runnable"></a>
						<h3>Execute Runnable</h3>

						<p>
							The Java <code>ExecutorService</code> <code>execute(Runnable)</code> method takes a
							<code>java.lang.Runnable</code> object,
							and executes it asynchronously. Here is an example of executing a <code>Runnable</code>
							with an <code>ExecutorService</code>:
						</p>

						<pre class="nz oa ob oc od oe of og bo oh ba bj">ExecutorService executorService = Executors.newSingleThreadExecutor();
						
						executorService.execute(new Runnable() {
						    public void run() {
						        System.out.println("Asynchronous task");
						    }
						});
						
						executorService.shutdown();
						</pre>

						<p>
							There is no way of obtaining the result of the executed <code>Runnable</code>, if
							necessary. You will have to use
							a <code>Callable</code> for that (explained in the following sections).
						</p>




						<a name="submit-runnable"></a>
						<h3>Submit Runnable</h3>

						<p>
							The Java <code>ExecutorService</code> <code>submit(Runnable)</code> method also takes a
							<code>Runnable</code> implementation, but returns
							a <code>Future</code> object. This <code>Future</code> object can be used to check if
							the <code>Runnable</code>
							has finished executing.
						</p>

						<p>
							Here is a Java <code>ExecutorService</code> <code>submit()</code> example:
						</p>

						<pre class="nz oa ob oc od oe of og bo oh ba bj">Future future = executorService.submit(new Runnable() {
						    public void run() {
						        System.out.println("Asynchronous task");
						    }
						});
						
						future.get();  //returns null if the task has finished correctly.
						</pre>

						<p>
							The <code>submit()</code> method returns a Java Future
							object which can be used to
							check when the <code>Runnable</code> has completed.
						</p>




						<a name="submit-callable"></a>
						<h3>Submit Callable</h3>
						<p>
							The Java <code>ExecutorService</code> <code>submit(Callable)</code> method is similar to
							the <code>submit(Runnable)</code>
							method except it takes a Java Callable instead of a
							<code>Runnable</code>. The precise difference between
							a <code>Callable</code> and a <code>Runnable</code> is explained a bit later.
						</p>

						<p>
							The <code>Callable</code>'s result can be obtained via the Java
							Future object returned by the
							<code>submit(Callable)</code> method. Here is an <code>ExecutorService</code>
							<code>Callable</code> example:
						</p>

						<pre class="nz oa ob oc od oe of og bo oh ba bj">Future future = executorService.submit(new Callable(){
						    public Object call() throws Exception {
						        System.out.println("Asynchronous Callable");
						        return "Callable Result";
						    }
						});
						
						System.out.println("future.get() = " + future.get());
						</pre>


						<p>
							The above code example will output this:
						</p>

						<pre class="nz oa ob oc od oe of og bo oh ba bj">Asynchronous Callable
						future.get() = Callable Result
						</pre>



						<a name="invokeany"></a>
						<h3>invokeAny()</h3>

						<p>
							The <code>invokeAny()</code> method takes a collection of <code>Callable</code> objects,
							or subinterfaces
							of <code>Callable</code>. Invoking this method does not return a <code>Future</code>,
							but returns the
							result of one of the <code>Callable</code> objects. You have no guarantee about which of
							the <code>Callable</code>'s
							results you get. Just one of the ones that finish.
						</p>

						<p>
							If one Callable finishes, so that a result is returned from <code>invokeAny()</code>,
							then the rest of
							the Callable instances are cancelled.
						</p>

						<p>
							If one of the tasks complete (or throws an exception), the rest of the
							<code>Callable</code>'s are cancelled.
						</p>

						<p>
							Here is a code example:
						</p>

						<pre class="nz oa ob oc od oe of og bo oh ba bj">ExecutorService executorService = Executors.newSingleThreadExecutor();
						
						Set&lt;Callable&lt;String&gt;&gt; callables = new HashSet&lt;Callable&lt;String&gt;&gt;();
						
						callables.add(new Callable&lt;String&gt;() {
						    public String call() throws Exception {
						        return "Task 1";
						    }
						});
						callables.add(new Callable&lt;String&gt;() {
						    public String call() throws Exception {
						        return "Task 2";
						    }
						});
						callables.add(new Callable&lt;String&gt;() {
						    public String call() throws Exception {
						        return "Task 3";
						    }
						});
						
						String result = executorService.invokeAny(callables);
						
						System.out.println("result = " + result);
						
						executorService.shutdown();
						</pre>

						<p>
							This code example will print out the object returned by one of the
							<code>Callable</code>'s in the
							given collection. I have tried running it a few times, and the result changes. Sometimes
							it is
							"Task 1", sometimes "Task 2" etc.
						</p>




						<a name="invokeall"></a>
						<h3>invokeAll()</h3>
						<p>
							The <code>invokeAll()</code> method invokes all of the <code>Callable</code> objects you
							pass to
							it in the collection passed as parameter. The <code>invokeAll()</code> returns a list of
							<code>Future</code>
							objects via which you can obtain the results of the executions of each
							<code>Callable</code>.
						</p>

						<p>
							Keep in mind that a task might finish due to an exception, so it may not have
							"succeeded". There is
							no way on a <code>Future</code> to tell the difference.
						</p>

						<p>
							Here is a code example:
						</p>

						<pre class="nz oa ob oc od oe of og bo oh ba bj">ExecutorService executorService = Executors.newSingleThreadExecutor();
						
						Set&lt;Callable&lt;String&gt;&gt; callables = new HashSet&lt;Callable&lt;String&gt;&gt;();
						
						callables.add(new Callable&lt;String&gt;() {
						    public String call() throws Exception {
						        return "Task 1";
						    }
						});
						callables.add(new Callable&lt;String&gt;() {
						    public String call() throws Exception {
						        return "Task 2";
						    }
						});
						callables.add(new Callable&lt;String&gt;() {
						    public String call() throws Exception {
						        return "Task 3";
						    }
						});
						
						List&lt;Future&lt;String&gt;&gt; futures = executorService.invokeAll(callables);
						
						for(Future&lt;String&gt; future : futures){
						    System.out.println("future.get = " + future.get());
						}
						
						executorService.shutdown();
						</pre>




						<a name="runnable-vs-callable"></a>
						<h3>Runnable vs. Callable</h3>

						<p>
							The <code>Runnable</code> interface is very similar to the <code>Callable</code>
							interface. The Runnable interface
							represents a task that can be executed concurrently by a thread or an
							<code>ExecutorService</code>. The Callable
							can only be executed by an ExecutorService. Both
							interfaces only has a single method. There is one small difference between the
							<code>Callable</code>
							and <code>Runnable</code> interface though. The difference between the
							<code>Runnable</code> and
							<code>Callable</code> interface is more easily visible when you see the interface
							declarations.
						</p>

						<p>
							Here is first the <code>Runnable</code> interface declaration:
						</p>

						<pre class="nz oa ob oc od oe of og bo oh ba bj">public interface Runnable {
						    public void run();
						}
						</pre>

						<p>
							And here is the <code>Callable</code> interface declaration:
						</p>

						<pre class="nz oa ob oc od oe of og bo oh ba bj">public interface Callable{
						    public Object call() throws Exception;
						}
						</pre>


						<p>
							The main difference between the <code>Runnable</code> <code>run()</code> method and the
							<code>Callable</code> <code>call()</code> method is that the <code>call()</code> method
							can return
							an <code>Object</code> from the method call. Another difference between
							<code>call()</code> and
							<code>run()</code> is that <code>call()</code> can throw an exception, whereas
							<code>run()</code>
							cannot (except for unchecked exceptions - subclasses of <code>RuntimeException</code>).
						</p>

						<p>
							If you need to submit a task to a Java <code>ExecutorService</code> and you need a
							result from the task,
							then you need to make your task implement the <code>Callable</code> interface. Otherwise
							your task can
							just implement the <code>Runnable</code> interface.
						</p>



						<a name="cancel-task"></a>
						<h3>Cancel Task</h3>

						<p>
							You can cancel a task (<code>Runnable</code> or <code>Callable</code>) submitted to a
							Java <code>ExecutorService</code>
							by calling the <code>cancel()</code> method on the <code>Future</code> returned when the
							task is submitted.
							Cancelling the task is only possible if the task has not yet started executing. Here is
							an example of cancelling
							a task by calling the <code>Future.cancel()</code> method:
						</p>

						<pre class="nz oa ob oc od oe of og bo oh ba bj">future.cancel();
						</pre>



						<a name="executorservice-shutdown"></a>
						<h2>ExecutorService Shutdown</h2>
						<p>
							When you are done using the Java <code>ExecutorService</code> you should shut it down,
							so the threads
							do not keep running. If your application is started via a <code>main()</code> method
							and your main thread exits your application, the application will keep running if you
							have an
							active <code>ExexutorService</code> in your application. The active threads inside this
							<code>ExecutorService</code>
							prevents the JVM from shutting down.
						</p>



						<a name="shutdown()"></a>
						<h3>shutdown()</h3>

						<p>
							To terminate the threads inside the <code>ExecutorService</code> you call its
							<code>shutdown()</code> method.
							The <code>ExecutorService</code> will not shut down immediately, but it will no longer
							accept new tasks, and
							once all threads have finished current tasks, the <code>ExecutorService</code> shuts
							down. All tasks submitted
							to the <code>ExecutorService</code> before <code>shutdown()</code> is called, are
							executed. Here is an example
							of performing a Java <code>ExecutorService</code> shutdown:
						</p>

						<pre class="nz oa ob oc od oe of og bo oh ba bj">executorService.shutdown();
						</pre>



						<a name="shutdownnow"></a>
						<h3>shutdownNow()</h3>

						<p>
							If you want to shut down the <code>ExecutorService</code> immediately, you can call the
							<code>shutdownNow()</code>
							method. This will attempt to stop all executing tasks right away, and skips all
							submitted but non-processed tasks.
							There are no guarantees given about the executing tasks. Perhaps they stop, perhaps the
							execute until the end.
							It is a best effort attempt. Here is an example of calling <code>ExecutorService</code>
							<code>shutdownNow</code>:
						</p>

						<pre class="nz oa ob oc od oe of og bo oh ba bj">executorService.shutdownNow();
						</pre>



						<a name="awaittermination"></a>
						<h3>awaitTermination()</h3>

						<p>
							The <code>ExecutorService</code> <code>awaitTermination()</code> method will block the
							thread calling it
							until either the <code>ExecutorService</code> has shutdown completely, or until a given
							time out occurs.
							The <code>awaitTermination()</code> method is typically called after calling
							<code>shutdown()</code> or
							<code>shutdownNow()</code>. Here is an example of calling <code>ExecutorService</code>
							<code>awaitTermination()</code>:
						</p>

						<pre class="nz oa ob oc od oe of og bo oh ba bj">executorService.shutdown();
						
						executorService.awaitTermination(10_000L, TimeUnit.MILLISECONDS );
						</pre>
					</div>
				</article>
			</div>
			<div class="card-footer">
				<ul class="pagination justify-content-center mb-4">
					<li class="page-item"><a class="page-link btn-outline-primary"
							href="../java/exception-handling.html">&lArr;
							Previous</a></li>
					<li class="page-item"><a class="page-link" href="../java/serialization.html">Next
							&rArr;</a></li>
				</ul>
			</div>
			<button onclick="topFunction()" id="myBtn" title="Go to top"><img height="30" width="30"
					src="../scripts/images/top.jpeg" /></button>
		</main>
	</div>
	<script>
		window.addEventListener('DOMContentLoaded', () => {
			window.scrollTo(0, 0);
		})
	</script>
	<script>
		// Get the button
		let mybutton = document.getElementById("myBtn");

		// When the user scrolls down 20px from the top of the document, show the button
		window.onscroll = function () {scrollFunction()};

		function scrollFunction() {
			if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
				mybutton.style.display = "block";
			} else {
				mybutton.style.display = "none";
			}
		}
		// When the user clicks on the button, scroll to the top of the document
		function topFunction() {
			document.body.scrollTop = 0;
			document.documentElement.scrollTop = 0;
		}
	</script>
	<script src="../scripts/js/site.js"></script>
</body>
<footer class="footer">
	<p>©
		<script>var d = new Date();
			document.write(d.getFullYear());</script>, The content is copyrighted to Ravi
		Kalyan Kolloju.
	</p>
</footer>

</html>