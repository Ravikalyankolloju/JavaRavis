<!DOCTYPE html>
<html lang="en">
<meta http-equiv="content-type" content="text/html;charset=UTF-8" />

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="author" content="RaviKalyan">
<title>Transactions Annotations</title>
<link rel="shortcut icon" type="image/x-icon"
	href="../scripts/images/tab_logo.png" />
<link
	href="https://fonts.googleapis.com/css2?family=Berkshire+Swash&family=Elsie+Swash+Caps:wght@400;900&family=Kalam:wght@300;400;700&family=Pacifico&family=Satisfy&display=swap"
	rel="stylesheet" />
<link rel="stylesheet" href="../scripts/css/site.css">
<script>
		!function (theme, navWidth) {
			if (theme === 'dark') document.documentElement.classList.add('dark-theme')
			if (navWidth) document.documentElement.style.setProperty('--nav-width', `${navWidth}px`)
		}(localStorage && localStorage.getItem('theme') || (matchMedia('(prefers-color-scheme: dark)') && 'dark'),
			localStorage && localStorage.getItem('nav-width'))
	</script>
<style>
@media screen and (min-width: 1025px) {
	.div-to-desk {
		display: none;
		/* Hide the div on screens smaller than 1025px (mobile) */
	}
}

@media screen and (max-width: 1025px) {
	.div-to-hide {
		display: none;
		/* Hide the div on screens smaller than 1025px (mobile) */
	}
}
</style>
</head>

<body>
	<nav class="navbar">
		<div class="navbar-brand">
			<a class="navbar-item" href="../home.html"> <img width="40"
				height="25" src="../scripts/images/nani1.png" alt="Home" />
			</a>
			<h4 class="div-to-desk, berkshire-swash-regular">Ravish</h4>
			<button class="navbar-burger" data-target="topbar-nav">
				<span></span> <span></span> <span></span>
			</button>
		</div>
		<div id="topbar-nav" class="navbar-menu">
			<div class="navbar-end">
				<div class="navbar-item" style="text-align: center;">
					<li class="nav-item" style="top: .2rem;"><a class="nav-link1"
						href="../home.html"><img height="25" width="25"
							src="../scripts/images/home.png"></i></a></li>
					<div class="navbar-item is-hoverable">
						<a class="navbar-link" href="../java/introduction.html">Java</a>
					</div>
					<div class="navbar-item is-hoverable">
						<a class="navbar-link" href="../spring/introduction.html">Spring</a>
					</div>
					<div class="navbar-item is-hoverable">
						<a class="navbar-link" href="../springboot/introduction.html">SpringBoot</a>
					</div>
					<div class="navbar-item is-hoverable">
						<a class="navbar-link" href="../java/java8.html">Java 8
							Features</a>
					</div>
					<div class="navbar-item is-hoverable">
						<a class="navbar-link" href="../DP/introduction.html">Design
							Patterns</a>
					</div>
					<div class="navbar-item is-hoverable">
						<a class="navbar-link"
							href="../interview/interview-questions.html">Interview
							Questions</a>
					</div>
					<label class="theme-toggler div-to-hide"> <input
						type="checkbox" id="switch-theme-checkbox" /> <span class="icon"></span>
					</label>
				</div>
			</div>
		</div>
		<label class="theme-toggler div-to-desk" style="top: 22px;"> <input
			type="checkbox" id="switch-theme-mobile" /> <span class="icon"></span>
		</label>
	</nav>

	<div class="body">
		<div class="nav-container">
			<aside class="nav">
				<div class="nav-panel-menu is-active" data-panel="menu">
					<li class="nav-item" data-depth="0">
						<ul class="nav-list">
							<h4>Spring Basic</h4>
							<li class="nav-item" data-depth="1"><a class="nav-link"
								href="../spring/introduction.html">Spring Introduction</a></li>
							<h4>Spring MVC</h4>
							<li class="nav-item" data-depth="1"><a class="nav-link"
								href="../spring/mvc.html">Spring MVC</a></li>
							<h4>Spring Exceptions</h4>
							<li class="nav-item" data-depth="1"><a class="nav-link"
								href="../spring/exceptions.html">Spring Exceptions</a></li>
							<h4>Spring Actuators</h4>
							<li class="nav-item" data-depth="1"><a class="nav-link"
								href="../spring/actuators.html">Spring Actuators</a></li>
							<h4>Spring Annotations</h4>
							<li class="nav-item" data-depth="1"><a class="nav-link"
								href="../spring/annotations-core.html">Core Annotations</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link"
								href="../spring/annotations-mvc.html">MVC Annotations</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link"
								href="../spring/annotations-transactions.html">Transactions
									& Error Annotations</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link"
								href="../spring/annotations-configuration.html">Configuration
									Annotations</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link"
								href="../spring/annotations-aop.html">AOP Annotations</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link"
								href="../spring/annotations-jpa.html">JPA Annotations</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link"
								href="../spring/annotations-cloud.html">Cloud Annotations</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link"
								href="../spring/annotations-scheduling.html">Scheduling
									Annotations</a></li>
							<li class="nav-item" data-depth="1"><a class="nav-link"
								href="../spring/annotations-cache-error.html">Caching
									Annotations</a></li>
							<h4>Spring AOP</h4>
							<li class="nav-item" data-depth="1"><a class="nav-link"
								href="../spring/aop.html">Spring AOP</a></li>
							<h4>Spring JPA</h4>
							<li class="nav-item" data-depth="1"><a class="nav-link"
								href="../spring/jpa.html">Spring JPA</a></li>
							<h4>Spring Transactions</h4>
							<li class="nav-item" data-depth="1"><a class="nav-link"
								href="../spring/transactions.html">Spring Transactions</a></li>
							<h4>Spring Async</h4>
							<li class="nav-item" data-depth="1"><a class="nav-link"
								href="../spring/async.html">Spring Async</a></li>
							<h4>Spring Batch</h4>
							<li class="nav-item" data-depth="1"><a class="nav-link"
								href="../spring/batch.html">Spring Batch</a></li>
							<h4>Spring Aspect</h4>
							<li class="nav-item" data-depth="1"><a class="nav-link"
								href="../spring/aspect.html">Spring Aspect</a></li>
							<h4>Spring Kafka</h4>
							<li class="nav-item" data-depth="1"><a class="nav-link"
								href="../spring/kafka.html">Spring Kafka</a></li>
							<h4>Spring Logging</h4>
							<li class="nav-item" data-depth="1"><a class="nav-link"
								href="../spring/logging.html">Spring Logging</a></li>
							<h4>Spring Security</h4>
							<li class="nav-item" data-depth="1"><a class="nav-link"
								href="../spring/security.html">Spring Security</a></li>
							<h4>Interview Questions</h4>
							<li class="nav-item" data-depth="1"><a class="nav-link"
								href="../spring/spring-interview-questions.html">Spring
									Interview Questions</a></li>
						</ul>
					</li>
				</div>
			</aside>
		</div>
		<main class="article">
			<div class="toolbar">
				<button class="navbar-burger" id="nav-toggle-1">
					<span></span> <span></span> <span></span>
				</button>
				<nav class="breadcrumbs">
					<ul>
						<li><a href="../home.html">Home</a></li>
						<li><a href="../spring/introduction.html">Spring</a></li>
						<li><a href="../spring/annotations-transactions.html">Transactions
								& Errors Annotations</a></li>
					</ul>
				</nav>
			</div>
			<div class="doc">
				<nav class="breadcrumbs div-to-hide">
					<ul>
						<li><a href="../home.html">Home</a></li>
						<li><a href="../spring/introduction.html">Spring</a></li>
						<li><a href="../spring/annotations-transactions.html">Transactions
								& ErrorsAnnotations</a></li>
					</ul>
					<hr>
				</nav>
				<a class="div-to-desk"> <br>
				</a>
				<article>
					<div class="entry-content" itemprop="text">
						<h1>1. Spring Transaction Annotations</h1>
						<ol>
							<li>
								<p>
									<strong>@Transactional:</strong>
								</p>
								<ul>
									<li><code>@Transactional</code> is the core annotation for
										enabling transaction management in Spring. It can be applied
										at the class or method level.</li>
								</ul>
								<p>
									<strong>Example:</strong>
								</p> <pre class="nz oa ob oc od oe of og bo oh ba bj">
									<code class="!whitespace-pre hljs language-java">
										<span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Transactional</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span
											class="hljs-title class_">MyTransactionalService</span> {
    <span class="hljs-comment">// Transactional methods</span>
}
</code>
								</pre> <pre class="nz oa ob oc od oe of og bo oh ba bj">
									<code class="!whitespace-pre hljs language-java">
										<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span
											class="hljs-title class_">AnotherService</span> {

    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span
											class="hljs-title function_">transactionalMethod</span><span
											class="hljs-params">()</span> {
        <span class="hljs-comment">// Transactional logic</span>
    }
}
</code>
								</pre>
							</li>
							<li>
								<p>
									<strong>@Transactional(propagation):</strong>
								</p>
								<ul>
									<li><code>propagation</code> attribute defines the
										transaction propagation behavior (e.g., <code>REQUIRED</code>,
										<code>REQUIRES_NEW</code>, etc.).</li>
								</ul>
								<p>
									<strong>Example:</strong>
								</p> <pre class="nz oa ob oc od oe of og bo oh ba bj">
									<code class="!whitespace-pre hljs language-java">
										<span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Transactional(propagation = Propagation.REQUIRED)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span
											class="hljs-title class_">MyTransactionalService</span> {
    <span class="hljs-comment">// Transactional methods with specific propagation behavior</span>
}
</code>
								</pre>
							</li>
							<li>
								<p>
									<strong>@Transactional(isolation):</strong>
								</p>
								<ul>
									<li><code>isolation</code> attribute defines the
										transaction isolation level (e.g., <code>DEFAULT</code>, <code>READ_COMMITTED</code>,
										etc.).</li>
								</ul>
								<p>
									<strong>Example:</strong>
								</p> <pre class="nz oa ob oc od oe of og bo oh ba bj">
									<code class="!whitespace-pre hljs language-java">
										<span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Transactional(isolation = Isolation.READ_COMMITTED)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span
											class="hljs-title class_">MyTransactionalService</span> {
    <span class="hljs-comment">// Transactional methods with specific isolation level</span>
}
</code>
								</pre>
							</li>
							<li>
								<p>
									<strong>@Transactional(readOnly):</strong>
								</p>
								<ul>
									<li><code>readOnly</code> attribute specifies whether the
										transaction is read-only. It's a performance optimization
										hint.</li>
								</ul>
								<p>
									<strong>Example:</strong>
								</p> <pre class="nz oa ob oc od oe of og bo oh ba bj">
									<code class="!whitespace-pre hljs language-java">
										<span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Transactional(readOnly = true)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span
											class="hljs-title class_">MyTransactionalService</span> {
    <span class="hljs-comment">// Read-only transactional methods</span>
}
</code>
								</pre>
							</li>
							<li>
								<p>
									<strong>@Transactional(rollbackFor):</strong>
								</p>
								<ul>
									<li><code>rollbackFor</code> attribute defines the
										exceptions for which the transaction should be rolled back.</li>
								</ul>
								<p>
									<strong>Example:</strong>
								</p> <pre class="nz oa ob oc od oe of og bo oh ba bj">
									<code class="!whitespace-pre hljs language-java">
										<span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Transactional(rollbackFor = CustomException.class)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span
											class="hljs-title class_">MyTransactionalService</span> {
    <span class="hljs-comment">// Transactional methods with specific rollback behavior</span>
}
</code>
								</pre>
							</li>
							<li>
								<p>
									<strong>@Transactional(noRollbackFor):</strong>
								</p>
								<ul>
									<li><code>noRollbackFor</code> attribute defines the
										exceptions for which the transaction should not be rolled
										back.</li>
								</ul>
								<p>
									<strong>Example:</strong>
								</p> <pre class="nz oa ob oc od oe of og bo oh ba bj">
									<code class="!whitespace-pre hljs language-java">
										<span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Transactional(noRollbackFor = CustomException.class)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span
											class="hljs-title class_">MyTransactionalService</span> {
    <span class="hljs-comment">// Transactional methods with specific no rollback behavior</span>
}
</code>
								</pre>
							</li>
							<li>
								<p>
									<strong>@Transactional(timeout):</strong>
								</p>
								<ul>
									<li><code>timeout</code> attribute specifies the maximum
										time (in seconds) that a transaction should take before being
										rolled back.</li>
								</ul>
								<p>
									<strong>Example:</strong>
								</p> <pre class="nz oa ob oc od oe of og bo oh ba bj">
									<code class="!whitespace-pre hljs language-java">
										<span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Transactional(timeout = 30)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span
											class="hljs-title class_">MyTransactionalService</span> {
    <span class="hljs-comment">// Transactional methods with a specific timeout</span>
}
</code>
								</pre>
							</li>
							<li>
								<p>
									<strong>@Transactional(rollbackForClassName):</strong>
								</p>
								<ul>
									<li><code>rollbackForClassName</code> is similar to <code>rollbackFor</code>
										but allows specifying exception classes by name.</li>
								</ul>
								<p>
									<strong>Example:</strong>
								</p> <pre class="nz oa ob oc od oe of og bo oh ba bj">
									<code class="!whitespace-pre hljs language-java">
										<span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Transactional(rollbackForClassName = "com.example.CustomException")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span
											class="hljs-title class_">MyTransactionalService</span> {
    <span class="hljs-comment">// Transactional methods with specific rollback behavior</span>
}
</code>
								</pre>
							</li>
							<li>
								<p>
									<strong>@Transactional(propagation, isolation,
										timeout, readOnly, rollbackFor, noRollbackFor):</strong>
								</p>
								<ul>
									<li>Multiple attributes can be combined to customize
										transaction behavior.</li>
								</ul>
								<p>
									<strong>Example:</strong>
								</p> <pre class="nz oa ob oc od oe of og bo oh ba bj">
									<code class="!whitespace-pre hljs language-java">
										<span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Transactional(
    propagation = Propagation.REQUIRED,
    isolation = Isolation.READ_COMMITTED,
    timeout = 30,
    readOnly = false,
    rollbackFor = CustomException.class,
    noRollbackFor = AnotherException.class
)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span
											class="hljs-title class_">MyTransactionalService</span> {
    <span class="hljs-comment">// Transactional methods with combined attributes</span>
}
</code>
								</pre>
							</li>
						</ol>
						<h1>
							2. Spring Boot Errors
							</h3>
							<ol>
								<li>
									<p>
										<strong>@ResponseStatus:</strong>
									</p>
									<ul>
										<li><code>@ResponseStatus</code> is used to declare the
											HTTP response status code that a method should produce.</li>
									</ul>
									<p>
										<strong>Example:</strong>
									</p> <pre class="nz oa ob oc od oe of og bo oh ba bj">
										<code class="!whitespace-pre hljs language-java">
											<span class="hljs-meta">@Controller</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span
												class="hljs-title class_">MyController</span> {

    <span class="hljs-meta">@GetMapping("/custom-error")</span>
    <span class="hljs-meta">@ResponseStatus(HttpStatus.BAD_REQUEST)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span
												class="hljs-title function_">handleCustomError</span><span
												class="hljs-params">()</span> {
        <span class="hljs-comment">// Logic that may throw an exception</span>
    }
}
</code>
									</pre>
								</li>
								<li>
									<p>
										<strong>@ExceptionHandler:</strong>
									</p>
									<ul>
										<li><code>@ExceptionHandler</code> is used to define
											methods that handle specific exceptions thrown by the
											controller.</li>
									</ul>
									<p>
										<strong>Example:</strong>
									</p> <pre class="nz oa ob oc od oe of og bo oh ba bj">
										<code class="!whitespace-pre hljs language-java">
											<span class="hljs-meta">@Controller</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span
												class="hljs-title class_">MyController</span> {

    <span class="hljs-meta">@GetMapping("/handle-error")</span>
    <span class="hljs-keyword">public</span> String <span
												class="hljs-title function_">handleError</span><span
												class="hljs-params">()</span> {
        <span class="hljs-keyword">throw</span> <span
												class="hljs-keyword">new</span> <span
												class="hljs-title class_">CustomException</span>(<span
												class="hljs-string">"This is a custom exception."</span>);
    }

    <span class="hljs-meta">@ExceptionHandler(CustomException.class)</span>
    <span class="hljs-meta">@ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)</span>
    <span class="hljs-keyword">public</span> String <span
												class="hljs-title function_">handleCustomException</span><span
												class="hljs-params">(CustomException ex)</span> {
        <span class="hljs-keyword">return</span> <span
												class="hljs-string">"custom-error-page"</span>;
    }
}
</code>
									</pre>
								</li>
								<li>
									<p>
										<strong>@ControllerAdvice:</strong>
									</p>
									<ul>
										<li><code>@ControllerAdvice</code> is used to define
											global configurations for multiple controllers, including
											exception handling.</li>
									</ul>
									<p>
										<strong>Example:</strong>
									</p> <pre class="nz oa ob oc od oe of og bo oh ba bj">
										<code class="!whitespace-pre hljs language-java">
											<span class="hljs-meta">@ControllerAdvice</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span
												class="hljs-title class_">GlobalControllerAdvice</span> {

    <span class="hljs-meta">@ExceptionHandler(Exception.class)</span>
    <span class="hljs-keyword">public</span> String <span
												class="hljs-title function_">handleGlobalException</span><span
												class="hljs-params">(Exception ex)</span> {
        <span class="hljs-keyword">return</span> <span
												class="hljs-string">"global-error-page"</span>;
    }
}
</code>
									</pre>
								</li>
								<li>
									<p>
										<strong>@RestControllerAdvice:</strong>
									</p>
									<ul>
										<li><code>@RestControllerAdvice</code> is similar to <code>@ControllerAdvice</code>
											but is specifically designed for RESTful services. It
											combines <code>@ControllerAdvice</code> and <code>@ResponseBody</code>.
										</li>
									</ul>
									<p>
										<strong>Example:</strong>
									</p> <pre class="nz oa ob oc od oe of og bo oh ba bj">
										<code class="!whitespace-pre hljs language-java">
											<span class="hljs-meta">@RestControllerAdvice</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span
												class="hljs-title class_">GlobalRestControllerAdvice</span> {

    <span class="hljs-meta">@ExceptionHandler(Exception.class)</span>
    <span class="hljs-meta">@ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)</span>
    <span class="hljs-keyword">public</span> Map&lt;String, String&gt; <span
												class="hljs-title function_">handleGlobalException</span><span
												class="hljs-params">(Exception ex)</span> {
        Map&lt;String, String&gt; errorResponse = <span
												class="hljs-keyword">new</span> <span
												class="hljs-title class_">HashMap</span>&lt;&gt;();
        errorResponse.put(<span class="hljs-string">"error"</span>, <span
												class="hljs-string">"Internal Server Error"</span>);
        errorResponse.put(<span class="hljs-string">"message"</span>, ex.getMessage());
        <span class="hljs-keyword">return</span> errorResponse;
    }
}
</code>
									</pre>
									<p>
										In the above example, when an exception occurs in any
										controller, the
										<code>handleGlobalException</code>
										method in
										<code>GlobalRestControllerAdvice</code>
										will be invoked, and it returns a JSON response with a custom
										error message.
									</p>
								</li>
							</ol>
					</div>
				</article>
			</div>
			<div class="card-footer">
				<ul class="pagination justify-content-center mb-4">
					<li class="page-item"><a class="page-link btn-outline-primary"
						href="../spring/annotations-mvc.html">&lArr; Previous</a></li>
					<li class="page-item"><a class="page-link"
						href="../spring/annotations-configuration.html">Next &rArr;</a></li>
				</ul>
			</div>
			<button onclick="topFunction()" id="myBtn" title="Go to top">
				<img height="30" width="30" src="../scripts/images/top.jpeg" />
			</button>
		</main>
	</div>
	<script>
		window.addEventListener('DOMContentLoaded', () => {
			window.scrollTo(0, 0);
		})
	</script>
	<script>
		// Get the button
		let mybutton = document.getElementById("myBtn");

		// When the user scrolls down 20px from the top of the document, show the button
		window.onscroll = function () {scrollFunction()};

		function scrollFunction() {
			if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
				mybutton.style.display = "block";
			} else {
				mybutton.style.display = "none";
			}
		}
		// When the user clicks on the button, scroll to the top of the document
		function topFunction() {
			document.body.scrollTop = 0;
			document.documentElement.scrollTop = 0;
		}
	</script>
	<script src="../scripts/js/site.js"></script>
</body>
<footer class="footer">
	<p>
		Â©
		<script>var d = new Date();
			document.write(d.getFullYear());</script>
		, The content is copyrighted to Ravi Kalyan Kolloju.
	</p>
</footer>

</html>